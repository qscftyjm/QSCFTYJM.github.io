<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>面向对象编程 | Hexo</title><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="面向对象编程Python的类提供了面向对象变成的所有标准特性：类继承机制允许指定多个基类，派生类可以覆盖基类的任何方法，一个方法可以调用基类中同名的方法。对象可以包含任意数量和类型的数据。与模块一样，类也拥有Python语言的动态特性：类在运行时创建，可以在创建后修改。 1，认识面向对象编程【类成员】：也称为类的变量，描述类的各种概念。在Python中主要包括3种类成员：字段、方法和属性。 类的特">
<meta property="og:type" content="article">
<meta property="og:title" content="面向对象编程">
<meta property="og:url" content="https://qscftyjm.github.io/2023/11/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="面向对象编程Python的类提供了面向对象变成的所有标准特性：类继承机制允许指定多个基类，派生类可以覆盖基类的任何方法，一个方法可以调用基类中同名的方法。对象可以包含任意数量和类型的数据。与模块一样，类也拥有Python语言的动态特性：类在运行时创建，可以在创建后修改。 1，认识面向对象编程【类成员】：也称为类的变量，描述类的各种概念。在Python中主要包括3种类成员：字段、方法和属性。 类的特">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png">
<meta property="article:published_time" content="2023-11-30T03:15:05.000Z">
<meta property="article:modified_time" content="2022-11-30T03:15:05.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="python学习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://qscftyjm.github.io/2023/11/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: John Doe","link":"链接: ","source":"来源: Hexo","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '面向对象编程',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-30 11:15:05'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/cat.css"><link rel="stylesheet" href="/css/readPercent.css"><link rel="stylesheet" href="/css/emoji.css"><div id="myscoll"></div><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-shouye3"></i><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shouye3"></use></svg><span> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-wenzhang"></use></svg><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-guidang">                   </use></svg><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tag-group">                   </use></svg><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei2">                   </use></svg><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:randomPost();"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zuji">                   </use></svg><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-liebiao"></use></svg><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-yinle-">                   </use></svg><span> 音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Gallery/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tianjiazhaopian">                   </use></svg><span> 照片</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-touyingyi">                   </use></svg><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-liuyanban-05"></i><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-liuyanban-05"></use></svg><span> 留言板</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-link_"></i><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-link_"></use></svg><span> 友链</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw icon-relation-analysis-full"></i><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-relation-analysis-full"></use></svg><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Hexo"><span class="site-name">Hexo</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-shouye3"></i><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shouye3"></use></svg><span> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-wenzhang"></use></svg><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-guidang">                   </use></svg><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tag-group">                   </use></svg><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei2">                   </use></svg><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:randomPost();"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zuji">                   </use></svg><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-liebiao"></use></svg><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-yinle-">                   </use></svg><span> 音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Gallery/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tianjiazhaopian">                   </use></svg><span> 照片</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-touyingyi">                   </use></svg><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-liuyanban-05"></i><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-liuyanban-05"></use></svg><span> 留言板</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-link_"></i><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-link_"></use></svg><span> 友链</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw icon-relation-analysis-full"></i><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-relation-analysis-full"></use></svg><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">面向对象编程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-11-30T03:15:05.000Z" title="发表于 2023-11-30 11:15:05">2023-11-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-30T03:15:05.000Z" title="更新于 2022-11-30 11:15:05">2022-11-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">15.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>57分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="面向对象编程"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h1><p>Python的类提供了面向对象变成的所有标准特性：类继承机制允许指定多个基类，派生类可以覆盖基类的任何方法，一个方法可以调用基类中同名的方法。对象可以包含任意数量和类型的数据。与模块一样，类也拥有Python语言的动态特性：类在运行时创建，可以在创建后修改。</p>
<h2 id="1，认识面向对象编程"><a href="#1，认识面向对象编程" class="headerlink" title="1，认识面向对象编程"></a>1，认识面向对象编程</h2><p>【类成员】：也称为类的变量，描述类的各种概念。在Python中主要包括3种类成员：字段、方法和属性。</p>
<h3 id="类的特征属性"><a href="#类的特征属性" class="headerlink" title="类的特征属性"></a>类的特征属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">继承：</span><br><span class="line">  不同类型之间可能会存在部分代码重叠，例如，共享数据或方法，但是我们又不想重写雷同的代码，于是就利用继承机制来快速实现代码的“复制”。继承机制简化了类的创建，提高了代码的可用性。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">封装：</span><br><span class="line">  封装就是信息隐藏，将类的使用和实现分开，只保留有限的接口（即方法）与外部联系。对于开发人员来说，只要知道类的使用即可，而不用关心类的实现过程，以及涉及的技术细节。这样可以让开发人员把更多的精力集中于应用层面开发，同时也避免了程序之间的依赖和耦合。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">多态：</span><br><span class="line">  多态就是接口的多种不同的实现方式。同一操作作用于不同的对象，可以有不同的解释，产生不同的执行效果。Python是弱类型语言，天生支持多态，多态关注的不是传入对象是否符合指定类型，而关注的是传入对象是否有符合要执行的方法，如果有就执行，因此也称为鸭子类型。</span><br></pre></td></tr></table></figure>
<h2 id="2，使用类"><a href="#2，使用类" class="headerlink" title="2，使用类"></a>2，使用类</h2><p>使用类之前，需要先定义类，然后再实例化类，类的实例就是一个具体对象，调用对象的属性和方法就可以访问类的成员，完成特定任务。</p>
<h3 id="1，定义类"><a href="#1，定义类" class="headerlink" title="1，定义类"></a>1，定义类</h3><p>​    在Python中，使用class关键字可以定义一个类，具体语法格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">类名</span>：</span><br><span class="line">	<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">	帮助信息（可选）</span></span><br><span class="line"><span class="string">	&#x27;&#x27;&#x27;</span></span><br><span class="line">    类主体</span><br></pre></td></tr></table></figure>
<p> 根据惯例，类名一般使用大写字母开头，如果类名包含两个单词，第2个单词的首字母也要大写。类帮助信息与函数的帮助信息一样，一般位于类主体的首行，用来指定类的帮助信息，在创建类实例时，当输入类名和左括号时，会显示帮助信息。</p>
<p>类主体由各种类成员组成。</p>
<p>【示例一】定义空类，在定义类时，如果暂时没有设计好具体的功能，可以使用pass语句定义占位符，暂时暂停设计空类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">No</span>:</span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>空类不执行任何操作，也不包含任何成员信息</p>
<p>【示例2】定义一个包含两个类成员的Student类型，其中name为类的字段，saying()作为类的方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>():</span><br><span class="line">	name = <span class="string">&quot;学生&quot;</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">saying</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;Hi,Python&quot;</span></span><br></pre></td></tr></table></figure>
<p>在类中，包含Self参数的函数称为实例方法，实例方法的第一个参数指向实例对象，通过类或者实例对象可以访问类的成员。</p>
<h3 id="2，实例化类"><a href="#2，实例化类" class="headerlink" title="2，实例化类"></a>2，实例化类</h3><p>类与函数一样的都是静态代码，必须被调用时才会执行。使用小括号语法可以调用类，将返回一个对象，它是类的实例，这个过程称为类的实例化。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">实例对象 = 类名（）</span><br></pre></td></tr></table></figure>
<p>【示例】实例化Student类，然后通过语法使用实例对象访问类的成员</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>():</span><br><span class="line">	name = <span class="string">&quot;学生&quot;</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">saying</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;Hi,Python&quot;</span></span><br><span class="line">		</span><br><span class="line">studnt1 = Student()</span><br><span class="line"><span class="built_in">print</span>(student1.name)</span><br><span class="line"><span class="built_in">print</span>(student1.saying())	</span><br></pre></td></tr></table></figure>
<h3 id="3，初始化类"><a href="#3，初始化类" class="headerlink" title="3，初始化类"></a>3，初始化类</h3><p>​    Python类拥有一个名为<strong>init</strong>()的魔术方法，也被称为初始化函数，该方法在类的实例化过程中会自动被调用。因此利用<strong>init</strong>()初始化函数可以初始化类，为类的实例化对象配置初始值。</p>
<p>【示例1】定义一个Student类，包含一个初始化函数<strong>init</strong>和一个方法saying()。在初始化函数中包含3个参数，其中self表示实例对象，必须设置name和age的初始化配置参数，用于实例化类过程中设置初始值。在saying()方法中输出实例对象的初始值信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Student</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.age = age</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">saying</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;我的名字是&#123;&#125;,今年&#123;&#125;岁了。&quot;</span>.<span class="built_in">format</span>(self.name,self.age)</span><br><span class="line">		</span><br><span class="line">student1 = Student(<span class="string">&quot;张三&quot;</span>,<span class="number">19</span>)</span><br><span class="line"><span class="built_in">print</span>(student1.saying())</span><br><span class="line"></span><br><span class="line">输出为：</span><br><span class="line">我的名字是张三，今年<span class="number">19</span>岁了。</span><br></pre></td></tr></table></figure>
<p>self代表类的实例，而不是类的自身。在Python中，与普通的函数不同，所有方法都必须有一个额外的参数(self)，他作为第1个参数而存在，代表类的实例对象。通过self.<strong>class</strong>可以访问实例对象的类。</p>
<p>【示例2】本示例简单演示了类中self和self.<strong>class</strong>分别代表什么。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">prt</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(self)</span><br><span class="line">		<span class="built_in">print</span>(self.__class__)</span><br><span class="line">		</span><br><span class="line">test1 = Test()</span><br><span class="line">test1.prt()</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;__main__.Test <span class="built_in">object</span> at <span class="number">0x000001C682AD7550</span>&gt;</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;__main__.Test&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<p>从执行结果可以很明显看出，self代表的是类的实例，代表当前对象的地址，而self.class则指向类。</p>
<p>【示例3】self可以换成任意变量名，也能够正常执行。由于self表示本身的含义，在Python中self定义为类型的实例对象，与其他语言中的this含义相似。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">prt</span>(<span class="params">who</span>):</span><br><span class="line">		<span class="built_in">print</span>(who)</span><br><span class="line">		<span class="built_in">print</span>(who.__class__)</span><br><span class="line">		</span><br><span class="line">test1 = Test()</span><br><span class="line">test1.prt()</span><br></pre></td></tr></table></figure>
<p>运行结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;__main__.Test <span class="built_in">object</span> at <span class="number">0x00000220F9FC7550</span>&gt;</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;__main__.Test&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="4，定义学生类"><a href="#4，定义学生类" class="headerlink" title="4，定义学生类"></a>4，定义学生类</h3><p>本案例定义一个学生类，包含学生的姓名，性别，学号等信息，实例化对象之后，调用introduce()方法可以打印个人信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,<span class="built_in">id</span>,name,gender</span>):</span><br><span class="line">		self.<span class="built_in">id</span> = <span class="built_in">id</span></span><br><span class="line">		self.name = name</span><br><span class="line">		self.gender = gender</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">introduce</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;大家好！我是：&#123;&#125;，性别：&#123;&#125;，学号：&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(self.name,self.gender,<span class="built_in">id</span>))</span><br><span class="line"></span><br><span class="line">Stu1 = Student(<span class="string">&#x27;2019&#x27;</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;男&#x27;</span>)</span><br><span class="line">Stu1.introduce()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">大家好！我是：张三，性别：男，学号：2019</span><br></pre></td></tr></table></figure>
<h3 id="5，案例：定义员工类"><a href="#5，案例：定义员工类" class="headerlink" title="5，案例：定义员工类"></a>5，案例：定义员工类</h3><p>本案例定义一个员工类，包含员工姓名、部门、年龄等信息，并添加统计员工总人数的功能。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>:</span><br><span class="line">	<span class="string">&#x27;&#x27;&#x27;员工类&#x27;&#x27;&#x27;</span></span><br><span class="line">	count = <span class="number">0</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age,department</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.age = age</span><br><span class="line">		self.department</span><br><span class="line">		Employee.count += <span class="number">1</span></span><br><span class="line">		</span><br><span class="line">emp1 = Employee(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;总共创建%d个员工对象&#x27;</span> % Employee.count)</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">总共创建1个员工对象</span><br></pre></td></tr></table></figure>
<h2 id="3，类成员"><a href="#3，类成员" class="headerlink" title="3，类成员"></a>3，类成员</h2><p>在Pyhon中，类的成员包括字段、方法和属性。</p>
<h3 id="1，字段"><a href="#1，字段" class="headerlink" title="1，字段"></a>1，字段</h3><p>字段用来存储值。Python字段包括普通地段（也称为动态字段）和动态字段。下面通过一个简单的示例来认识普通字段和静态字段的不同和用法。</p>
<p>【示例】定义Province类，其中包含country和name两个字段，其中country为静态字段，name为普通字段。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Province</span>:</span><br><span class="line">	country = <span class="string">&#x27;中国&#x27;</span>		<span class="comment">#静态字段，保存在类中</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">		self.name = name	<span class="comment">#普通字段，保存在对象中</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">#访问普通字段</span></span><br><span class="line">obj = Provice(<span class="string">&#x27;北京&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(obj.name)</span><br><span class="line"><span class="comment">#访问静态字段</span></span><br><span class="line"><span class="built_in">print</span>(Provice.country)</span><br><span class="line"><span class="built_in">print</span>(obj.country)</span><br></pre></td></tr></table></figure>
<p>【提示】</p>
<p>​    在所有成员中，只有普通字段保存在实例对象中，及创建了多少个实例对象，在内存中就有多少个普通字段。其他成员都保存在类中，不管创建多少个实例对象，在内存中只创建一份。</p>
<p>【小结】</p>
<p>下面简单比较普通字段和动态的不同。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#保存位置:普通字段保存在实例中。动态字段保存在类对象中</span><br><span class="line">#归属对象：普通字段属于实例对象，静态字段属于类对象</span><br><span class="line">#访问对象：普通字段必须通过实例对象来访问;静态字段可以通过类对象直接访问，也可以通过实例对象来访问。建议最好使用类访问，在必要的情况下再使用实例对象进行访问，但是实例对象无权修改动态静态。</span><br><span class="line">#存储方式：普通字段在每个实例对象中都保存一份，静态字段在内存中仅保存一份。</span><br><span class="line">#加载方式：普通字段只在实例化类的时候创建，动态字段在类的代码被加载时创建。</span><br><span class="line">应用场景：如果在每个实例对象中字段的值都不相同，那么就可以使用普通字段；如果在每个实例对象中字段的值都相同，那么可以使用动态字段。</span><br></pre></td></tr></table></figure>
<h3 id="2，方法"><a href="#2，方法" class="headerlink" title="2，方法"></a>2，方法</h3><p>方法与函数的用法基本相同，用来完成特定的任务，或者执行特定的行为。Python方法包括普通方法、类方法和静态方法。</p>
<h1 id="普通方法"><a href="#普通方法" class="headerlink" title="普通方法"></a>普通方法</h1><p>由实例对象拥有，并由实例对象调用。</p>
<p>在类结构中，未添加类的方法和静态方法装饰器的函数搜可以作为普通方法。</p>
<p>对于普通方法来说，第一个参数必须是实例对象，一般以self作为第一个参数的名称，也可以使用其他名字来进行命名。</p>
<p>当使用实例对象调用普通方法时，系统会自动把实例对象传递给第一个参数。</p>
<p>当使用类对象调用普通方法时，系统会把他视为普通函数，不会自动传入实例对象。</p>
<p>【提示】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在普通方法中，可以通过self访问类成员、也可以使用实例的私有成员，如果存在相同名称的类成员和实例成员，则实例成员优先级高于类成员。</span><br></pre></td></tr></table></figure>
<p>类方法</p>
<p>由类对象拥有，由类调用，也允许实例化对象调用。</p>
<p>定义类方法时，需要使用修饰器@classmethod标识。</p>
<p>对于类方法拉来说，第一个参数必须是类对象，一般以cls作为第一个参数的名称，当然也可以使用其他的名字进行命名。当调用类方法时，系统会自动把类对象传递给第一个参数。</p>
<p>使用实例对象和类对象都可以访问类方法。在类方法中，可以通过cls访问类对象的属性和方法，其主要作用就是修改类属性和方法。</p>
<p>静态方法</p>
<p>使用修饰器@staitcmethod标识。无默认参数，如果要在静态方法中引用类属性，可以通过类对象或实例对象实现。</p>
<p>【示例一】本示例简单演示了如何定义普通方法、类方法和静态方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">    name = <span class="string">&#x27;Test&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name=name</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">ord_func</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;普通方法，至少包含一个self参数&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;普通方法&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(self.name)</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">class_func</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;类方法，至少包含一个cls参数&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;类方法&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(cls.name)</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">static_func</span>():</span><br><span class="line">        <span class="string">&quot;&quot;&quot;静态方法，无确认参数&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;静态方法&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = Test(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">f.ord_func()</span><br><span class="line">f.class_func()</span><br><span class="line">f.static_func()</span><br><span class="line">Test.class_func()</span><br><span class="line">Test.static_func()</span><br><span class="line">Test.ord_func()</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">普通方法</span><br><span class="line">test</span><br><span class="line">类方法</span><br><span class="line">Test</span><br><span class="line">静态方法</span><br></pre></td></tr></table></figure>
<p>通过比较可以看到</p>
<p>三种类型的方法都可以有实例对象调用，类对象只能调用类方法和静态方法。如果类对象直接调用普通方法，将失去self默认参数，以普通函数的方式调用。</p>
<p>调用方法时，自动传入的参数也不同，普通方法传入的是实例对象，而类方法传入的是类对象。</p>
<p>当调用普通方法时，可以读，写普通字段，也可以只读静态字段；当调用类方法时，只能够访问静态字段的值；静态方法只能通过参数传入或者类对象间接访问类的字段。</p>
<p>【示例2】本示例演示了实例对象如何使用类方法修改动态字段的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>():</span><br><span class="line">    country = <span class="string">&#x27;中国&#x27;</span></span><br><span class="line">    <span class="comment">#类方法，使用classmethod进行修饰</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="keyword">return</span> cls.country</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set</span>(<span class="params">cls,country</span>):</span><br><span class="line">        cls.country = country</span><br><span class="line"></span><br><span class="line">p = People()</span><br><span class="line"><span class="built_in">print</span>(p.get())</span><br><span class="line"><span class="built_in">print</span>(People.get())</span><br><span class="line">p.<span class="built_in">set</span>(<span class="string">&#x27;美国&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(p.get())</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">中国</span><br><span class="line">中国</span><br><span class="line">美国</span><br></pre></td></tr></table></figure>
<p>【示例3】本示例演示了在静态方法中如何使用类对象访问静态字段。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">people</span>:</span><br><span class="line">    country =<span class="string">&#x27;中国&#x27;</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>():</span><br><span class="line">        <span class="keyword">return</span> people.country</span><br><span class="line">    </span><br><span class="line">P = people()</span><br><span class="line"><span class="built_in">print</span>(people.get())</span><br><span class="line"><span class="built_in">print</span>(P.get())</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">中国</span><br><span class="line">中国</span><br></pre></td></tr></table></figure>
<h3 id="3，属性"><a href="#3，属性" class="headerlink" title="3，属性"></a>3，属性</h3><p>​    在Python中，属性(propetry)是一个特殊的概念，它实际上是普通方法的变种。使用@propetry修饰器进行标识，可以被类的方法变成属性。</p>
<p>【示例1】本例简单比较方法和属性的不同</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">    _name  = <span class="string">&quot;test&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._name</span><br><span class="line">    <span class="comment">#定义属性</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line">obj = Test()</span><br><span class="line"><span class="built_in">print</span>(obj.get_name())</span><br><span class="line"><span class="built_in">print</span>(obj.name)</span><br></pre></td></tr></table></figure>
<p>通过上面的代码可以看到，属性有3种特征：</p>
<p>在普通方法的基础上添加@property修饰器，可以定义数字属性。</p>
<p>在属性函数中，第一个参数必须是实例对象，一般以self作为第一个参数的名称，也可以使用其他名字进行命名，</p>
<p>在调用属性函数时，不需要使用小括号。</p>
<p>属性由方法演变而来，在Python中如果没有属性，完全可以使用方法代替属性实现其功能，属性存在的意义是访问属性时可以模拟出访问字段完全相同的语法形式。</p>
<p>【示例2】设计一个数据库分页显示的功能模块。在向数据库请求数据时，能够根据用户请求的当前页数及预定的每页显示的记录数计算将要显示的从第m条到第n条的记录起止数。最后，可以根据m和n去数据库中请求数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Pager</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,current_page</span>):</span><br><span class="line">        self.current_page = current_page</span><br><span class="line">        self.per_items = <span class="number">10</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">start</span>(<span class="params">self</span>):</span><br><span class="line">        val = (self.current_page - <span class="number">1</span>) * self.per_items</span><br><span class="line">        <span class="keyword">return</span> val</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">end</span>(<span class="params">self</span>):</span><br><span class="line">        val = self.current_page * self.per_items</span><br><span class="line">        <span class="keyword">return</span> val</span><br><span class="line"></span><br><span class="line">p = Pager(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(p.start)</span><br><span class="line"><span class="built_in">print</span>(p.end) </span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">20</span><br><span class="line">30</span><br></pre></td></tr></table></figure>
<p>通过上面的示例可以看到，属性与字段虽然都用来读，写值，但是在属性内部封装了一系列的逻辑，并最终将计算结果返回，而字段仅仅记录一个值。</p>
<p>属性的访问方式有3种：读、写、删，对应的装饰器为@property、@方法名.setter、@方法名.deleter。【示例3】结合示例演示如何读取，修改和修除属性。除本例设计一个商品报价类，初始化参数为原价和折扣，然后可以读取商品实价格，也可以修改商品原价或者删除商品的价格属性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Goods</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,price,discount=<span class="number">1</span></span>):</span><br><span class="line">        self.orig_price = price </span><br><span class="line">        self.discount = discount</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">price</span>(<span class="params">self</span>):</span><br><span class="line">        new_price = self.orig_price * self.discount</span><br><span class="line">        <span class="keyword">return</span> new_price</span><br><span class="line"><span class="meta">    @price.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">price</span>(<span class="params">self,value</span>):</span><br><span class="line">        self.orig_price = value</span><br><span class="line"><span class="meta">    @price.deleter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">price</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">del</span> self.orig_price</span><br><span class="line"></span><br><span class="line">obj = Goods(<span class="number">120</span>,<span class="number">0.7</span>)</span><br><span class="line"><span class="built_in">print</span>(obj.price)</span><br><span class="line">obj.price = <span class="number">200</span></span><br><span class="line"><span class="keyword">del</span> obj.price</span><br><span class="line"><span class="built_in">print</span>(obj.price)</span><br></pre></td></tr></table></figure>
<p>【注意】</p>
<p>如果定义只读属性，则可以仅定义@property和@price.deleter修饰器函数。</p>
<h3 id="4，构造属性"><a href="#4，构造属性" class="headerlink" title="4，构造属性"></a>4，构造属性</h3><p>使用property()构造函数可以把属性操作的函数绑定到字段上，这样可以快速定义属性。</p>
<p>具体语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class property ([fget[,fset[,fdel[,doc]]]])</span><br></pre></td></tr></table></figure>
<p>说明如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#fget:获取属性值的普通方法</span><br><span class="line">#fset:设置属性值的普通方法</span><br><span class="line">#fdel:删除属性值的普通方法</span><br><span class="line">#doc:属性描述信息</span><br></pre></td></tr></table></figure>
<p>该函数放回一个属性，定义的属性与使用@property修饰器定义的属性具有相同的功能。</p>
<p>【示例】针对上一节示例3，本示例把它转换为property()构造函数生成属性的方法来设计。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Goods</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,price,discount=<span class="number">1</span></span>):</span><br><span class="line">        self.orig_price = price</span><br><span class="line">        self.discount = discount</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_price</span>(<span class="params">self</span>):</span><br><span class="line">        new_price = self.orig_price * self.discount</span><br><span class="line">        <span class="keyword">return</span> new_price</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_price</span>(<span class="params">self,value</span>):</span><br><span class="line">        self.orig_price = value</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">del_price</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">del</span> self.orig_price</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 构造price属性</span></span><br><span class="line">    price = <span class="built_in">property</span>(get_price,set_price,del_price,<span class="string">&quot;可读、可写、可删除属性：商品价格&quot;</span>)</span><br><span class="line"></span><br><span class="line">obj  = Goods(<span class="number">120</span>,<span class="number">0.7</span>)</span><br><span class="line"><span class="built_in">print</span>(obj.price)</span><br><span class="line">obj.price = <span class="number">200</span></span><br><span class="line"><span class="keyword">del</span> obj.price</span><br><span class="line"><span class="built_in">print</span>(obj.price)     </span><br></pre></td></tr></table></figure>
<p>obj是Goods的实例化，obj.price将触发get_price()方法，obj.price=200将触发set.price()方法，del obj.price将触发del price()方法。</p>
<p>property()构造函数中的前三个参数函数分别对应的是获取属性的方法、设置属性的方法、以及删除属性的方法。外部对象可以通过访问price的方式达到获取、设置或删除属性的目的。如果允许用户直接调用这三个方法，使用体验不及属性，同时存在安全隐患。</p>
<h3 id="5，成员访问限制"><a href="#5，成员访问限制" class="headerlink" title="5，成员访问限制"></a>5，成员访问限制</h3><p>类的所有成员都有以下两种形式。</p>
<p>公有成员：在任何地方都能访问</p>
<p>私有成员：只有类的内部才能访问</p>
<p>私有成员和公有成员的定义方式不同：私有成员命名时，前两个字符必须是下划线，特殊成员除外，如<strong>init</strong>，<strong>call</strong>，<strong>dict</strong>等</p>
<p>【示例】在类Test中定义两个成员：字段a是公有属性，字段b是私有属性。a可以通过实例对象直接访问，而b只能在类内访问，如果在外部访问b,只能通过公共方法间接访问。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.a = <span class="string">&#x27;公有字段&#x27;</span></span><br><span class="line">        self.__b = <span class="string">&#x27;私有字段&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__b</span><br><span class="line">    </span><br><span class="line">test = Test()</span><br><span class="line"><span class="built_in">print</span>(test.a)</span><br><span class="line"><span class="built_in">print</span>(test.get())</span><br><span class="line"><span class="built_in">print</span>(test.__b)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">公有字段</span><br><span class="line">私有字段</span><br></pre></td></tr></table></figure>
<p>【提示】</p>
<p>如果非要访问私有属性，也可以通过如下的方式访问。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象._类__属性名</span><br></pre></td></tr></table></figure>
<p>可以根据上述代码实现访问私有属性;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(test._Test__b)</span><br></pre></td></tr></table></figure>
<h3 id="6，案例四则运算"><a href="#6，案例四则运算" class="headerlink" title="6，案例四则运算"></a>6，案例四则运算</h3><p>设计一个MyMath类，该类能够实现简单的加、减、乘、除四则运算。代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyMath</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        self.a = a</span><br><span class="line">        self.b = b</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">addition</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.a + self.b</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">subtraction</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.a - self.b</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">multiplication</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.a * self.b</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">division</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.b == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;除数不能为0&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.a / self.b</span><br><span class="line">    <span class="number">5</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    a = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;参数a:&#x27;</span>))</span><br><span class="line">    b = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;参数b:&#x27;</span>))</span><br><span class="line">    myMath = MyMath(a,b)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;加法结果：&#x27;</span>,myMath.addition())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;减法结果：&#x27;</span>,myMath.subtraction())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;乘法结果：&#x27;</span>,myMath.multiplication())</span><br><span class="line">    <span class="keyword">if</span> myMath.division() != <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;除法结果：&#x27;</span>,myMath.division())</span><br><span class="line">    flag = <span class="built_in">input</span>(<span class="string">&#x27;是否退出运算[y/n]:&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> flag == <span class="string">&#x27;y&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">参数a:<span class="number">5</span></span><br><span class="line">参数b:<span class="number">6</span></span><br><span class="line">加法结果： <span class="number">11</span></span><br><span class="line">减法结果： -<span class="number">1</span></span><br><span class="line">乘法结果： <span class="number">30</span></span><br><span class="line">除法结果： <span class="number">0.8333333333333334</span></span><br><span class="line">是否退出运算[y/n]:n</span><br><span class="line">参数a:<span class="number">3</span></span><br><span class="line">参数b:<span class="number">4</span></span><br><span class="line">加法结果： <span class="number">7</span></span><br><span class="line">减法结果： -<span class="number">1</span></span><br><span class="line">乘法结果： <span class="number">12</span></span><br><span class="line">除法结果： <span class="number">0.75</span></span><br><span class="line">是否退出运算[y/n]:y</span><br></pre></td></tr></table></figure>
<h3 id="7，圆类"><a href="#7，圆类" class="headerlink" title="7，圆类"></a>7，圆类</h3><p>本案例设计一个圆类，该类能够表示圆的位置和大小，能够计算圆的面积和周长，能够对圆的位置进行修改，然后创建圆的实例对象，并进行相应的操作，代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x,y,r</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">        self.r = r</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_position</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> (self.x,self.y)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_position</span>(<span class="params">self,x,y</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_area</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3.14</span> * self.r</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_circumference</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3.14</span> * <span class="number">2</span> * self.r</span><br><span class="line">    </span><br><span class="line">circle = Circle(<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line">area = circle.get_area()</span><br><span class="line">circumference = circle.get_circumference()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;圆的面积：%d&#x27;</span> % area)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;圆的周长：%d&#x27;</span> % circumference)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;圆的初始位置：&#x27;</span>,circle.get_position())</span><br><span class="line">circle.set_position(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后圆的位置：&#x27;</span>,circle.get_position())</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">圆的面积：<span class="number">12</span></span><br><span class="line">圆的周长：<span class="number">25</span></span><br><span class="line">圆的初始位置： (<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">修改后圆的位置： (<span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<h2 id="4，类的特殊成员"><a href="#4，类的特殊成员" class="headerlink" title="4，类的特殊成员"></a>4，类的特殊成员</h2><p>Python内置了一组特殊的成员，他们有着特殊的名称，开头和结尾以及双下划线标识，这些成员可以直接访问，及有特殊的用途，俗称魔法变量或魔术方法，下面将详细介绍。</p>
<h3 id="1，doc"><a href="#1，doc" class="headerlink" title="1，doc"></a>1，<strong>doc</strong></h3><p><strong>doc</strong>表示类的描述信息，通过类对象直接访问。</p>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类的描述信息就是在定义类时，其内第一行的注释信息。</span><br></pre></td></tr></table></figure>
<p>【示例】定义一个空类，然后直接使用类对象访问<strong>doc</strong>属性，获取类的描述信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">	<span class="string">&quot;&quot;&quot;Test空类</span></span><br><span class="line"><span class="string">	暂时没有任何代码&quot;&quot;&quot;</span></span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Test.__doc__)</span><br><span class="line">	</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Test空类</span><br><span class="line">暂时没有任何代码</span><br></pre></td></tr></table></figure>
<h3 id="2，module和class"><a href="#2，module和class" class="headerlink" title="2，module和class"></a>2，<strong>module</strong>和<strong>class</strong></h3><p><strong>module</strong>表示当前操作对象在哪个模块中，<strong>class</strong>表示当前操作的对象属于哪个类。</p>
<p>【示例1】定义Student类，然后实例化后，通过实例对象访问<strong>module</strong>和<strong>class</strong>属性，获取模块名称和类的名称。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">		self.name = name </span><br><span class="line">		self.age = age</span><br><span class="line">student = Student(<span class="string">&#x27;zjj&#x27;</span>,<span class="number">21</span>)</span><br><span class="line"><span class="built_in">print</span>(student.__class__)</span><br><span class="line"><span class="built_in">print</span>(student.__module__)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#x27;__main__.Student&#x27;&gt;</span><br><span class="line">__main__</span><br></pre></td></tr></table></figure>
<p>其中，<strong>main</strong>表示当前文档</p>
<p>【注意】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">如果使用类对象访问__module__和__class__属性，将获取如下信息。</span><br><span class="line">print(student.__class__)</span><br><span class="line">print(student.__module__)</span><br><span class="line">输出为</span><br><span class="line">&lt;class &#x27;type&#x27;&gt;</span><br><span class="line">__main__</span><br><span class="line">对于实例对象和类对象，__module__返回的值都是相同的，而sudent.__class__表示数据类型。</span><br></pre></td></tr></table></figure>
<h3 id="3，new"><a href="#3，new" class="headerlink" title="3，new"></a>3，<strong>new</strong></h3><p>   <strong>new</strong>表示类的实例化函数，该函数将在调用类创建实例对象时被自动执行，并且先于<strong>init</strong>被执行，注意，<strong>new</strong>函数会返回一个实例，而<strong>init</strong>函数会返回None。</p>
<p>【注意】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">所有对象都是通过new方法实例化的，在__new__函数里面调用了init方法，所以在实例化的过程中先执行的是new,而不是init方法。</span><br></pre></td></tr></table></figure>
<p>【示例1】本示例中重写了<strong>new</strong>函数，这将导致<strong>init</strong>函数不能够被自动执行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">F</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;Foo __init__&quot;</span>)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">new</span>(<span class="params">cls,*arg,**kwargs</span>)：</span><br><span class="line">		cls.name = <span class="string">&quot;test&quot;</span></span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">object</span>.__new__(cls)</span><br><span class="line">f = F(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(F.name)</span><br><span class="line"><span class="built_in">print</span>(f.name)</span><br></pre></td></tr></table></figure>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类的生成、调用顺序依次是__new__、__init__、__call__。</span><br></pre></td></tr></table></figure>
<p>【示例3】</p>
<p><strong>new</strong>方法在继承一些不可变的类时会用到，如int、str、tuple。下面创建一个永远保留两个小数的float类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RoundFloat</span>(<span class="title class_ inherited__">float</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls,value</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">super</span>().__new__(cls,<span class="built_in">round</span>(value,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(RoundFloat(<span class="number">3.14159</span>))</span><br></pre></td></tr></table></figure>
<h3 id="4，init"><a href="#4，init" class="headerlink" title="4，init"></a>4，<strong>init</strong></h3><p><strong>init</strong>表示类的初始化函数，该函数将在实例化类的过程中被自动调用，主要任务是完成类的初始化配置，如设置的初始化、配置运行环境等。例如，在数据库访问类中，可以在初始化函数中完成数据库的登录和验证工作，避免每次访问数据库都需要进行登录和验证操作。</p>
<p>【示例】设计一个数据库操作类，在<strong>init</strong>初始化函数中完全数据库的连接操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> MySQLdb</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DB</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,passwd</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.passwd = passwd</span><br><span class="line">		self.db = MySQLdb.connect(<span class="string">&quot;localhost&quot;</span>,name,passwd,<span class="string">&quot;DatabaseName&quot;</span>,charset=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">		<span class="keyword">def</span> <span class="title function_">getData</span>(<span class="params">self,sql</span>):</span><br><span class="line">			<span class="keyword">pass</span></span><br><span class="line">		<span class="keyword">def</span> <span class="title function_">updateData</span>(<span class="params">self,sql</span>):</span><br><span class="line">			<span class="keyword">pass</span></span><br><span class="line">		<span class="keyword">def</span> <span class="title function_">delData</span>(<span class="params">self,<span class="built_in">id</span></span>):</span><br><span class="line">			<span class="keyword">pass</span></span><br><span class="line">		</span><br></pre></td></tr></table></figure>
<h3 id="5，call"><a href="#5，call" class="headerlink" title="5，call"></a>5，<strong>call</strong></h3><p>当使用小括号调用类对象时，将触发执行<strong>new</strong>函数，即创建类的实例，同时还会触发初始化函数<strong>init</strong>的执行。而当使用小括号调用实例对象时，将触发执行<strong>call</strong>函数。</p>
<p>​    【示例】设计一个加法器的类，允许当类实例化时初始传入多个被加数字，然后调入对象，可以继续传入多个数字，并返回他们的和。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Add</span>:</span><br><span class="line">	<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">	Add加法器类</span></span><br><span class="line"><span class="string">	#可以在实例化时传入多个数字，调用对象时也可以继续传入多个数字，然后返回他们的和</span></span><br><span class="line"><span class="string">	&#x27;&#x27;&#x27;</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,*args</span>):</span><br><span class="line">		self.__<span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">isinstance</span>(i,(<span class="built_in">int</span>,<span class="built_in">float</span>))):</span><br><span class="line">				self.__<span class="built_in">sum</span> += i</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self,*args</span>):</span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">isinstance</span>(i,(<span class="built_in">int</span>,<span class="built_in">float</span>))):</span><br><span class="line">				self.__<span class="built_in">sum</span> += i</span><br><span class="line">		<span class="keyword">return</span> self.__<span class="built_in">sum</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):</span><br><span class="line">		self.__<span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">   </span><br><span class="line">add = Add()</span><br><span class="line"><span class="built_in">print</span>(add(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line">add = Add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(add(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">12</span><br><span class="line">18</span><br></pre></td></tr></table></figure>
<h3 id="6，dict"><a href="#6，dict" class="headerlink" title="6，dict"></a>6，<strong>dict</strong></h3><p><strong>dict</strong>能够获取类对象或实例对象包含的所有成员。</p>
<p>【示例】定义一个Test类，包含一个静态动态ver与两个方法<strong>init</strong>和func，同时定义两个普通字段name和passwd。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">	ver = <span class="string">&#x27;test&#x27;</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,passwd</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.passwd = passwd</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">self,*args,**kwargs</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;func&#x27;</span>)</span><br><span class="line">		</span><br><span class="line"><span class="built_in">print</span>(Test.__dict__)</span><br><span class="line"></span><br><span class="line">obj1 = Test(<span class="string">&#x27;other&#x27;</span>,<span class="number">10000</span>)</span><br><span class="line"><span class="built_in">print</span>(obj1.__dict__)</span><br><span class="line"></span><br><span class="line">obj2 = Test(<span class="string">&#x27;this&#x27;</span>,<span class="number">3888</span>)</span><br><span class="line"><span class="built_in">print</span>(obj2.__dict__)</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;__module__&#x27;: &#x27;__main__&#x27;, &#x27;ver&#x27;: &#x27;test&#x27;, &#x27;__init__&#x27;: &lt;function Test.__init__ at 0x000001EF6615E9E0&gt;, &#x27;func&#x27;: &lt;function Test.func at 0x000001EF6615F130&gt;, &#x27;__dict__&#x27;: &lt;attribute &#x27;__dict__&#x27; of &#x27;Test&#x27; objects&gt;, &#x27;__weakref__&#x27;: &lt;attribute &#x27;__weakref__&#x27; of &#x27;Test&#x27; objects&gt;, &#x27;__doc__&#x27;: None&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;name&#x27;: &#x27;other&#x27;, &#x27;passwd&#x27;: 10000&#125;</span><br><span class="line">&#123;&#x27;name&#x27;: &#x27;this&#x27;, &#x27;passwd&#x27;: 3888&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7，str"><a href="#7，str" class="headerlink" title="7，str"></a>7，<strong>str</strong></h3><p><strong>str</strong>函数能够返回实例对象的字符串表示。如果为类定义了<strong>str</strong>方法，那么在打印实例对象时，默认会输出该方法的返回值。</p>
<p>【示例】为Test类定义了<strong>str</strong>方法，设计当打印Test类的实例对象时，显示提示性的字符串表示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;Test类的实例&quot;</span></span><br><span class="line">	</span><br><span class="line">test = Test()</span><br><span class="line"><span class="built_in">print</span>(test)</span><br></pre></td></tr></table></figure>
<h3 id="8，getitem、setitem和delitem"><a href="#8，getitem、setitem和delitem" class="headerlink" title="8，getitem、setitem和delitem"></a>8，<strong>getitem</strong>、<strong>setitem</strong>和<strong>delitem</strong></h3><p><strong>getitem</strong>、<strong>setitem</strong>和<strong>delitem</strong>这三个函数主要用于序列的索引，切片、以及字典的映射操作，分别表示获取，设置和删除数据。</p>
<p>【示例1】使用<strong>getitem</strong>、<strong>setitem</strong>和<strong>delitem</strong>函数来模拟设计一个字典操作类，实现基本的字典操作功能，如添加元素、访问元素和删除元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dict</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,**args</span>):</span><br><span class="line">		self.__item = args</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self,key</span>):</span><br><span class="line">		<span class="keyword">return</span> self.__item.get(key)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__setitem__</span>(<span class="params">self,key,value</span>):</span><br><span class="line">		<span class="keyword">if</span> key <span class="keyword">in</span> self.__item: <span class="keyword">del</span> self.__item[key]</span><br><span class="line">		<span class="keyword">return</span> self.__item.setdefault(key,value)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__delitem__</span>(<span class="params">self,key</span>):</span><br><span class="line">		<span class="keyword">return</span> self.__item.pop(key,<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">dict</span> = <span class="type">Dict</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line"><span class="built_in">dict</span>[<span class="string">&#x27;b&#x27;</span>] = <span class="string">&#x27;test&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>[<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"><span class="keyword">del</span> <span class="built_in">dict</span>[<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>[<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"><span class="built_in">dict</span> = <span class="type">Dict</span>(a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line"><span class="built_in">dict</span>[<span class="string">&#x27;b&#x27;</span>] = <span class="string">&#x27;test&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>[<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"><span class="keyword">del</span> <span class="built_in">dict</span>[<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>[<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">None</span><br><span class="line">test</span><br><span class="line">None</span><br><span class="line">1</span><br><span class="line">test</span><br><span class="line">None</span><br></pre></td></tr></table></figure>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在Python2.0中提供了__getslice__(),__setslice__()和__delslice__()3个函数，它们能够让类的实例对象拥有列表的切片功能。Python3.0废除了这3个函数，而是借助slice类整合到了__getitem__、__setitem__和__delitem__中。</span><br></pre></td></tr></table></figure>
<p>【示例2】使用<strong>getitem</strong>()、<strong>setitem</strong>()和<strong>delitem</strong>()来模拟<strong>getslice</strong>(),<strong>setslice</strong>()和<strong>delslice</strong>()函数功能。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">List</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,*args</span>):</span><br><span class="line">		self.__item = <span class="built_in">list</span>(args)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self,index</span>):</span><br><span class="line">		<span class="keyword">if</span> <span class="built_in">isinstance</span>(index,<span class="built_in">slice</span>):</span><br><span class="line">			<span class="keyword">return</span> self.__item[index.start:index.stop:index.step]</span><br><span class="line">		<span class="keyword">return</span> self.__item</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__setitem__</span>(<span class="params">self,index,value</span>):</span><br><span class="line">		<span class="keyword">if</span> <span class="built_in">isinstance</span>(index,<span class="built_in">slice</span>):</span><br><span class="line">			self.__item[index.start:index.stop:index.step] = value</span><br><span class="line">		<span class="keyword">return</span> self.__item</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__delitem__</span>(<span class="params">self,index</span>):</span><br><span class="line">		<span class="keyword">if</span> <span class="built_in">isinstance</span>(index,<span class="built_in">slice</span>):</span><br><span class="line">			<span class="keyword">del</span> self.__item[index.start:index.stop:index.step]</span><br><span class="line">		<span class="keyword">return</span> self.__item</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">L = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">2</span>:<span class="number">4</span>])</span><br><span class="line">L[-<span class="number">1</span>:<span class="number">5</span>] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(L[::])</span><br><span class="line"><span class="keyword">del</span> L[<span class="number">3</span>:<span class="number">5</span>]</span><br><span class="line"><span class="built_in">print</span>(L[::])</span><br></pre></td></tr></table></figure>
<p>当执行切片操作时，<strong>getitem</strong>(),<strong>setitem</strong>(),<strong>delitem</strong>()函数的第2个参数为slice对象，即切片对象，使用该对象的start、stop和step属性可以获取切片的起始下标值，终点下标值和步长。</p>
<h3 id="9，iter"><a href="#9，iter" class="headerlink" title="9，iter"></a>9，<strong>iter</strong></h3><p><strong>iter</strong>函数用于返回迭代器，对于列表、字典、元组等可迭代对象来说，之所以可以进行for循环，是因为类型内部定义了<strong>iter</strong>函数。</p>
<p>【示例】为Test类定义了<strong>iter</strong>函数，设计<strong>iter</strong>函数返回一个可迭代的对象，这样当实例化Test类后，就可以使用for语句迭代实例对象了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">init__</span>(<span class="params">self，sq=[]</span>):</span><br><span class="line">		self.sq = sq</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">iter</span>(self.sq)</span><br><span class="line">	</span><br><span class="line">obj = Test([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> obj:</span><br><span class="line">	<span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iter()函数用来生成迭代器，可以把一个支持迭代的集合对象生成可迭代的对象。</span><br></pre></td></tr></table></figure>
<p>上面的代码等效于下面的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj = <span class="built_in">iter</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> obj:</span><br><span class="line">	<span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<p>【注意】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果没有设计__iter__函数，那么使用for语句迭代Test的实例对象，将会抛出如下所示的错误。</span><br><span class="line">TypeError:&#x27;Test&#x27; object is not iterable</span><br></pre></td></tr></table></figure>
<h3 id="10，del"><a href="#10，del" class="headerlink" title="10，del"></a>10，<strong>del</strong></h3><p><strong>del</strong>表示析构函数，当实例对象在内存中被释放时，会被自动触发执行。</p>
<p>【示例】在上一小节示例基础上添加析构函数，设计当不需要访问数据库时自动关闭数据库相连。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class DB:</span><br><span class="line">	def __init__(self,name,passwd):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.passwd = passwd</span><br><span class="line">		self.db = MySQLdb.connect(&quot;localhost&quot;,name,passwd,&quot;DatabaseName&quot;,charset=&#x27;utf-8&#x27;)</span><br><span class="line">	def __del__(self):</span><br><span class="line">		self.__db.close()</span><br></pre></td></tr></table></figure>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python能够自动管理内存，用户在使用时无须无关内存的分配和释放，Python解释器能够自动执行，所以析构函数的调用是由解释器在进行垃圾回收时自动出发执行的。</span><br></pre></td></tr></table></figure>
<h3 id="11，getattr、setattr和delattr"><a href="#11，getattr、setattr和delattr" class="headerlink" title="11，getattr、setattr和delattr"></a>11，<strong>getattr</strong>、<strong>setattr</strong>和<strong>delattr</strong></h3><p><strong>getattr</strong>、<strong>setattr</strong>和<strong>delattr</strong>这三个函数主要用于对象的属性操作，分别表示获取、设置和删除属性值。</p>
<p>【注意】通过<strong>dict</strong>包含的信息进行属性查找，在实例对象以及对应类对象中没有找到指定属性，将调用类的<strong>getattr</strong>函数，如果没有定义这个函数，将抛出AttributeError异常。因此，<strong>getattr</strong>是属性查找的最后一步操作。</p>
<p>【示例】演示如何使用<strong>getattr</strong>、<strong>setattr</strong>和<strong>delattr</strong>，为类设置属性操作的基本行为，演示效果如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,<span class="built_in">id</span>,name,gender</span>):</span><br><span class="line">		self.<span class="built_in">id</span> = <span class="built_in">id</span></span><br><span class="line">		self.name = name</span><br><span class="line">		self.gender = gender</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__getattr__</span>(<span class="params">self,item</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;no attribute&#x27;</span>,item)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__setattr__</span>(<span class="params">self,key,value</span>):</span><br><span class="line">		self.__dict__[key] = value</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__delattr__</span>(<span class="params">self,item</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;beging remove&#x27;</span>,item)</span><br><span class="line">        self.__dict__.pop(item)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;remove finished&#x27;</span>)</span><br><span class="line">student = Student(<span class="string">&#x27;2019123456&#x27;</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;male&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(student.age)</span><br><span class="line">student.age = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(student.age)</span><br><span class="line"><span class="comment">#print(student.age)</span></span><br><span class="line"><span class="built_in">print</span>(student.__dict__)</span><br><span class="line"><span class="keyword">del</span> student.age</span><br><span class="line"><span class="built_in">print</span>(student.__dict__)</span><br></pre></td></tr></table></figure>
<h3 id="12，案例：重写比较运算符"><a href="#12，案例：重写比较运算符" class="headerlink" title="12，案例：重写比较运算符"></a>12，案例：重写比较运算符</h3><p>Python为比较运算符提供了一组魔法方法，当使用比较运算符进行运算时，将触发这些方法的调用。简单的说明如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># __lt__(self,other):小于(&lt;)</span><br><span class="line"># __le__(self,other):小于或等于(&lt;+=)</span><br><span class="line"># __gt__(self,other):大于(&gt;)</span><br><span class="line"># __ge__(self,other):大于或等于(&gt;=)</span><br><span class="line"># __eq__(self,other):等于(==)</span><br><span class="line"># __ne__(self,other):不等于(!=)</span><br></pre></td></tr></table></figure>
<p>【示例】本例重写比较运算符，根据句子的长度来判断大小关系，而不是字符的编码顺序，示例代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Sentence</span>(<span class="title class_ inherited__">str</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,a</span>):</span><br><span class="line">		<span class="keyword">if</span> <span class="built_in">isinstance</span>(a,<span class="built_in">str</span>):</span><br><span class="line">			self.<span class="built_in">len</span> = <span class="built_in">len</span>(a)</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="built_in">print</span>(<span class="string">&#x27;TypeError&#x27;</span>)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__gt__</span>(<span class="params">self,other</span>):</span><br><span class="line">		<span class="keyword">if</span> self.<span class="built_in">len</span> &gt; other.<span class="built_in">len</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__ge__</span>(<span class="params">self,other</span>):</span><br><span class="line">		<span class="keyword">if</span> self.<span class="built_in">len</span> &gt;= other.<span class="built_in">len</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__lt__</span>(<span class="params">self,other</span>):</span><br><span class="line">		<span class="keyword">if</span> self.<span class="built_in">len</span> &lt; other.<span class="built_in">len</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">         <span class="keyword">def</span> <span class="title function_">__le__</span>(<span class="params">self,other</span>):</span><br><span class="line">			<span class="keyword">if</span> self.<span class="built_in">len</span> &lt;= other.<span class="built_in">len</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">			<span class="keyword">else</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__eq__</span>(<span class="params">self,other</span>):</span><br><span class="line">		<span class="keyword">if</span> self.<span class="built_in">len</span> == other.<span class="built_in">len</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__ne__</span>(<span class="params">self,other</span>):</span><br><span class="line">		<span class="keyword">if</span> self.<span class="built_in">len</span> != other.<span class="built_in">len</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">			</span><br><span class="line">a = Sentence(<span class="string">&#x27;Hello world&#x27;</span>)</span><br><span class="line">b = Sentence(<span class="string">&#x27;Nice to meet you&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a&gt;b)</span><br><span class="line"><span class="built_in">print</span>(a&gt;=b)</span><br><span class="line"><span class="built_in">print</span>(a&lt;b)</span><br><span class="line"><span class="built_in">print</span>(a&lt;=b)</span><br><span class="line"><span class="built_in">print</span>(a==b)</span><br><span class="line"><span class="built_in">print</span>(a!=b)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="5，继承"><a href="#5，继承" class="headerlink" title="5，继承"></a>5，继承</h2><p>继承是面向对象编程的基本特性之一，通过继承不仅可以实现代码重用，而且可以构建类与类之间的关系。</p>
<h3 id="1，定义继承"><a href="#1，定义继承" class="headerlink" title="1，定义继承"></a>1，定义继承</h3><p>在Python中，新建的类可以继承自一个或者多个类，被继承的类称为父类、基类或者超类，新建的类称为子类或者派生类。</p>
<p>定义继承的基本语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class 子类（基类列表）：</span><br><span class="line">	&#x27;&#x27;&#x27;帮助信息（可选）&#x27;&#x27;&#x27;</span><br><span class="line">	类主体</span><br></pre></td></tr></table></figure>
<p>基类列表指定子类要继承的父类，可以是一个或多个，积累之间通过逗号分隔。如果不指定类，则将继承Python对象系统的根类object。</p>
<p>【示例1】创建一个基类Parent及其派生类Son1和Son2。在基类中定义一个字段name用来标识身份，定义一个方法get()访问当前实例的name属性。然后创建两个子类Son1和Son2，设计它们都继承自Parent，拥有get()方法，最后创建Son1和Son2的实例对象，在实例对象上调用get()方法，输出当前实例对象的name属性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span>:</span><br><span class="line">	name = <span class="string">&quot;父类&quot;</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> self.name</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son1</span>(<span class="title class_ inherited__">Parent</span>):</span><br><span class="line">	name = <span class="string">&#x27;子类1&#x27;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son2</span>(<span class="title class_ inherited__">Parent</span>):</span><br><span class="line">	name = <span class="string">&#x27;子类2&#x27;</span></span><br><span class="line">	</span><br><span class="line">son1 = Son1()</span><br><span class="line"><span class="built_in">print</span>(son1.get())</span><br><span class="line">son2 = Son2()</span><br><span class="line"><span class="built_in">print</span>(son2.get())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在Python中，类的继承分为单继承和多继承。单继承就是积累只有一个，如示例1所示。多继承就是基类可以有多个，多个父类通过逗号分隔，如示例2所示。</p>
<p>【示例2】创建两个基类Parent1和Parent2，及其派生类Son。这样派生类Son将继承基类Parent1和Parent2的所有公有成员。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Parent1:</span><br><span class="line">	name = &quot;父类1&quot;</span><br><span class="line">	def get(self):</span><br><span class="line">		return self.name</span><br><span class="line">class Parent2:</span><br><span class="line">	name = &quot;父类2&quot;</span><br><span class="line">	def get(self,val):</span><br><span class="line">		self.name = val</span><br><span class="line">class Son(Parent1,Parent2):</span><br><span class="line">	name = &#x27;子类&#x27;</span><br><span class="line">	</span><br><span class="line">son = Son()</span><br><span class="line">print(son.get())</span><br><span class="line">son.set(&quot;test&quot;)</span><br><span class="line">print(son.get())</span><br></pre></td></tr></table></figure>
<h3 id="2，base和bases"><a href="#2，base和bases" class="headerlink" title="2，base和bases"></a>2，<strong>base</strong>和<strong>bases</strong></h3><p>在Python中，每个类对象都有<strong>base</strong>和<strong>bases</strong>属性，他们表示类的基类。如果是单继承，使用<strong>base</strong>可以获取父类；如果是多继承，使用<strong>bases</strong>可以获取所有父类，并以元组类型返回。</p>
<p>【示例1】设计一个单继承的示例，然后使用<strong>base</strong>和<strong>bases</strong>访问基类。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Parent:</span><br><span class="line">	name = &quot;父类&quot;</span><br><span class="line">class Son:</span><br><span class="line">	name = &quot;子类&quot;</span><br><span class="line"></span><br><span class="line">print(Son.__base__)</span><br><span class="line">print(Son.__bases__)</span><br></pre></td></tr></table></figure>
<p>【示例2】设计一个多继承的实例，然后使用<strong>base</strong>和<strong>bases</strong>访问基类。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class Parent1:</span><br><span class="line">	name = &quot;父类1&quot;</span><br><span class="line">class Parent2:</span><br><span class="line">	name = &quot;父类2&quot;</span><br><span class="line">class Son(Parent1,Parent2):</span><br><span class="line">	name = &quot;子类&quot;</span><br><span class="line">	</span><br><span class="line">print(Son.__base__)</span><br><span class="line">print(Son.__bases__)</span><br></pre></td></tr></table></figure>
<h3 id="3，接口和抽象类"><a href="#3，接口和抽象类" class="headerlink" title="3，接口和抽象类"></a>3，接口和抽象类</h3><p>​        继承有两种作用：代码重用和接口兼容。在Python中，没有interface关键字，如果要模仿接口的概念，可以定义接口类，声明需要兼容的基类。在接口类中，可以定义一个或多个接口名（函数名），且并为实现接口的功能，子类继承接口类（接口继承），并且实现接口的功能。</p>
<p>​        接口继承的设计原则：做出一个良好的抽象，这个抽象规定了一个兼容接口，使外部调用者无须关心具体细节，可一视同仁地处理实现了特定接口的所有对象。在程序设计中这被称为归一化。</p>
<p>【示例1】下面示例设计一个简单地类，规定了统一的方法，在方法中通过pass，省略了具体的功能，这样的方法被称为抽象方法。当接口被继承时，由派生类实现部分或者全部功能。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Life:</span><br><span class="line">	def eat(self):</span><br><span class="line">		pass</span><br><span class="line">	def sleep(self):</span><br><span class="line">		pass</span><br><span class="line">	def play(self):</span><br><span class="line">		pass</span><br><span class="line">	</span><br><span class="line">class People(Life):</span><br><span class="line">	def eat(self):</span><br><span class="line">		print(&quot;吃饭&quot;)</span><br><span class="line">	def sleep(self):</span><br><span class="line">		print(&quot;睡觉&quot;)</span><br><span class="line">	def play(self):</span><br><span class="line">		print(&quot;打豆豆&quot;)</span><br><span class="line">		</span><br><span class="line">ren = People()</span><br><span class="line">ren.eat()</span><br><span class="line">ren.sleep()</span><br><span class="line">ren.play()</span><br></pre></td></tr></table></figure>
<p>抽象类是一个特殊的类，它基于类抽象而来，与普通类的不同之处；抽象类中包含抽象方法，没有具体功能，不能被实例化，只能被继承，而子类必须实现抽象方法。</p>
<p>在Python中，通过第三方模块实现对象类的支持，如abc模块。抽象类常用于协调工作。</p>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">抽象类与接口有点类似，但本质不同，简单比较如下。</span><br><span class="line">#抽象类是一组类的相似性，包括数据属性和函数属性，而接口只强调函数属性的相似性。</span><br><span class="line">#在继承抽象类的时候，应尽量避免多继承；而在继承接口的时候，鼓励多继承接口，使用多个专门的接口，而不使用单一的总接口。</span><br><span class="line">#在抽象类中，可以对一些抽象方法做出基础实现；在接口类中，任何方法都只是一种规范，具体的功能需要子类实现。</span><br></pre></td></tr></table></figure>
<p>【示例2】利用第三方abc模块在Python中定义抽象类</p>
<p>【注意】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">在Python中，不要以有无执行提来区分是否为抽象，而是根据是否有@abc.abstractmethod装饰器作为标准。</span><br><span class="line"><span class="keyword">import</span> abc</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InMa</span>(metaclass=abc.ABCMeta):</span><br><span class="line"><span class="meta">	@abc.abstractmethod</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line"><span class="meta">	@abc.abstractmethod</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">regist</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Login</span>(<span class="title class_ inherited__">InMa</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">self,name,pwd</span>):</span><br><span class="line">		<span class="keyword">if</span> self.name == <span class="string">&quot;name&quot;</span> <span class="keyword">and</span> self.password == <span class="string">&quot;pwd&quot;</span>:</span><br><span class="line">			<span class="built_in">print</span>(<span class="string">&quot;恭喜登录成功&quot;</span>)</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="built_in">print</span>(<span class="string">&quot;登录失败&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Regist</span>(<span class="title class_ inherited__">Login</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,pwd</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.password = pwd</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">regist</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;恭喜注册成功&quot;</span>)</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;username:&quot;</span>,self.name)</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;password:&quot;</span>,self.password)</span><br><span class="line"></span><br><span class="line"><span class="comment">#实例对象</span></span><br><span class="line">people = Regist(<span class="string">&quot;Jane&quot;</span>,<span class="string">&quot;qqq&quot;</span>)</span><br><span class="line">people.regist()</span><br><span class="line">people.login(<span class="string">&quot;Jane&quot;</span>,<span class="string">&quot;qqq&quot;</span>)</span><br><span class="line">		</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">恭喜注册成功</span><br><span class="line">username: Jane</span><br><span class="line">password: qqq</span><br><span class="line">登录失败</span><br></pre></td></tr></table></figure>
<h3 id="4，类的组合"><a href="#4，类的组合" class="headerlink" title="4，类的组合"></a>4，类的组合</h3><p>除了继承之外，代码重用的另一种方式就是组合。组合是指在一个类中使用另一个类的对象作为数据属性，也称为类的组合。</p>
<p>【示例1】简单演示类的组合形式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,gender,course</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.gender = gender</span><br><span class="line">		self.course = course</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Course</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,price,period</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.price = price</span><br><span class="line">		self.period = period</span><br><span class="line">course_obj = Course(<span class="string">&#x27;Python&#x27;</span>,<span class="number">15800</span>,<span class="string">&#x27;5months&#x27;</span>)</span><br><span class="line">t_c = Teacher(<span class="string">&#x27;egon&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,course_obj)</span><br><span class="line"><span class="built_in">print</span>(t_c.course.name)</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python</span><br></pre></td></tr></table></figure>
<p>通过上面的代码可以看到，组合与继承都能够有效利用已有类资源的重要方式，但是二者使用方式不同。</p>
<p>组合与继承都能够有效利用已有类的资源，但是二者使用方法不同。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#通过继承建立派生类与基类之间的关系，这是一种“是”的关系，如教授是教师，教授属于教师职业的一种。</span><br><span class="line">#使用组合建立类与组合类之间的关系，这是一种“有”的关系，如教授有生日，教授有课程安排等，教授与生日，课程等类有关联，但不是从属关系。</span><br></pre></td></tr></table></figure>
<p>【示例2】下面示例使用组合方式演示教授有生日，教授教python课程的关系。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BirthDate</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,year,month,day</span>):</span><br><span class="line">		self.year = year</span><br><span class="line">		self.month = month</span><br><span class="line">		self.day = day</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Course</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,price,period</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.price = price</span><br><span class="line">		self.period = period</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,gender</span>):</span><br><span class="line">		self.name = name</span><br><span class="line">		self.gender = gender</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">teach</span>(<span class="params">self</span>):</span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&#x27;teaching&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Professor</span>(<span class="title class_ inherited__">Teacher</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,gender,birth,course</span>):</span><br><span class="line">		Teacher.__init__(self,name,gender)</span><br><span class="line">		self.birth = birth</span><br><span class="line">		self.course = course</span><br><span class="line"></span><br><span class="line">P1 = Professor(<span class="string">&#x27;egon&#x27;</span>,<span class="string">&#x27;python&#x27;</span>,BirthDate(<span class="string">&#x27;1998&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;20&#x27;</span>),Course(<span class="string">&#x27;python&#x27;</span>,<span class="string">&#x27;58000&#x27;</span>,<span class="string">&#x27;4 months&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(P1.birth.year,P1.birth.month,P1.birth.day)</span><br><span class="line"><span class="built_in">print</span>(P1.course.name,P1.course.price,P1.course.period)</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1998</span> <span class="number">1</span> <span class="number">20</span></span><br><span class="line">python <span class="number">58000</span> <span class="number">4</span> months</span><br></pre></td></tr></table></figure>
<h3 id="5，方法重写与扩展"><a href="#5，方法重写与扩展" class="headerlink" title="5，方法重写与扩展"></a>5，方法重写与扩展</h3><p>基类的成员都会被派生类继承，当基类中的某个方法不完全适用于派生类时，就需要在派生类中重写父类的这个方法，即当子类定义了一个和超类相同的名字时，那么子类的这个方法将覆盖掉基类同名的方法。</p>
<p>【示例1】定义两个类：Bird类定义了鸟的基本功能：吃，SongBird是Bird的子类，SongBird会唱歌。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Bird</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;Bird,吃东西...&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SongBird</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;SongBird,吃东西...&#x27;</span>)	</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">song</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;SongBird,唱歌...&#x27;</span>)</span><br><span class="line">bird = Bird()</span><br><span class="line">SongBird = SongBird()</span><br><span class="line">bird.eat()</span><br><span class="line">SongBird.eat()</span><br><span class="line">SongBird.song()</span><br></pre></td></tr></table></figure>
<p>【示例2】定义3个类：Fruit、Apple和Orange，其中Fruit是基类，Apple和Orange是派生类，其中Apple继承了Fruit基类的harvest方法，而Orange重写了harvest方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Fruit</span>:</span><br><span class="line">	color = <span class="string">&#x27;绿色&#x27;</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">harvest</span>(<span class="params">self,color</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">f&quot;现在是<span class="subst">&#123;color&#125;</span>&quot;</span>)</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">f&quot;初始是<span class="subst">&#123;Fruit.color&#125;</span>&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Apple</span>(<span class="title class_ inherited__">Fruit</span>):</span><br><span class="line">	color = <span class="string">&#x27;红色&#x27;</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;苹果&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Orange</span>(<span class="title class_ inherited__">Fruit</span>):</span><br><span class="line">	color = <span class="string">&#x27;橙色&#x27;</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;橙色&quot;</span>)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">harvest</span>(<span class="params">self,color</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">f&quot;现在是<span class="subst">&#123;color&#125;</span>&quot;</span>)</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">f&quot;初始是<span class="subst">&#123;Fruit.color&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">apple = Apple()</span><br><span class="line">apple.harvest(apple.color)</span><br><span class="line"></span><br><span class="line">orange = Orange()</span><br><span class="line">orange.harvest(orange.color)</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">苹果</span><br><span class="line">现在是红色</span><br><span class="line">初始是绿色</span><br><span class="line">橙色      </span><br><span class="line">现在是橙色</span><br><span class="line">初始是绿色</span><br></pre></td></tr></table></figure>
<h3 id="6，案例：自行车类的继承"><a href="#6，案例：自行车类的继承" class="headerlink" title="6，案例：自行车类的继承"></a>6，案例：自行车类的继承</h3><p>本案例设计一个自行车Bike类，包含品牌字段、颜色字段和骑行功能，然后再派生出以下子类：折叠自行车类，包含骑行功能；电动自行车类，包含电池字段、骑行功能。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Bike</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,brand,color</span>):</span><br><span class="line">		self.brand = brand</span><br><span class="line">		self.color = color</span><br><span class="line"><span class="meta">	@property</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">brand</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> self.oral_brand</span><br><span class="line"><span class="meta">	@brand.setter</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">brand</span>(<span class="params">self,b</span>):</span><br><span class="line">		self.oral_brand = b</span><br><span class="line"><span class="meta">	@property</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">color</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> self.oral_color</span><br><span class="line"><span class="meta">	@color_setter</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">color</span>(<span class="params">self,c</span>)</span><br><span class="line">		self.oral_brand = c</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">riding</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;Bike拥有骑行功能&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Folding_Bike</span>(<span class="title class_ inherited__">Bike</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,brand,color</span>):</span><br><span class="line">		<span class="built_in">super</span>().__init__(brand,color)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">riding</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;折叠自行车:&#123;&#125;&#123;&#125;可以折叠&#x27;</span>.<span class="built_in">format</span>(self.brand,self.color))</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Electric_Bike</span>(<span class="title class_ inherited__">Bike</span>)：</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,brand,color,battery</span>):</span><br><span class="line">		<span class="built_in">super</span>().__init__(brand,color):</span><br><span class="line">		self.oral_battery = battery</span><br><span class="line"><span class="meta">	@property</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">battery</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> self.oral_battery = battery</span><br><span class="line"><span class="meta">	@battery_setter</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">color</span>(<span class="params">self,b</span>):</span><br><span class="line">		self oral_battery = b</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">riding</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;电动车&#123;&#125;&#123;&#125;使用&#123;&#125;电池&#x27;</span>.<span class="built_in">format</span>(self.brand,self.color,self.battery))</span><br><span class="line">	</span><br><span class="line">f_bike = Folding_Bike(<span class="string">&#x27;捷安特&#x27;</span>,<span class="string">&#x27;白色&#x27;</span>)</span><br><span class="line">f_bike.riding()</span><br><span class="line">f_bike.color = <span class="string">&#x27;白色&#x27;</span></span><br><span class="line">f_bike.riding()</span><br><span class="line">e_bike = Electric(<span class="string">&#x27;宝马&#x27;</span>,<span class="string">&#x27;曜石黑&#x27;</span>,<span class="string">&#x27;55V20Ah&#x27;</span>)</span><br><span class="line">e_bike.riding()</span><br><span class="line">e_bike.battery = <span class="string">&#x27;60V20Ah&#x27;</span></span><br><span class="line">e_bike.riding()</span><br><span class="line">		</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">折叠自行车:捷安特白色可以折叠</span><br><span class="line">折叠自行车:捷安特白色可以折叠</span><br><span class="line">电动车宝马55V20Ah使用55V20Ah电池</span><br><span class="line">电动车宝马55V20Ah使用55V20Ah电池</span><br></pre></td></tr></table></figure>
<h3 id="7，案例：抽象类继承和接口整合"><a href="#7，案例：抽象类继承和接口整合" class="headerlink" title="7，案例：抽象类继承和接口整合"></a>7，案例：抽象类继承和接口整合</h3><p>本例设计机动车基类，包含刹车功能，定义两个抽象类，包括收费类和空调类。采用鸭子模型提供了3个接口函数，包括刹车函数，收费函数和空调函数。派生出3个子类。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#公交车类，包含刹车，收费功能</span><br><span class="line">#出租车类，包括刹车，收费，空调功能。</span><br><span class="line">#电影院类，包含收费，空调功能</span><br></pre></td></tr></table></figure>
<p>案例代码演示如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> abc</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vehicle</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">stop</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;汽车有刹车功能！&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Charge</span>(metaclass=abc.ABCMeta):</span><br><span class="line"><span class="meta">	@abc.abstractmethod</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">charge</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Air_condition</span>(metaclass=abc.ABCMeta):</span><br><span class="line"><span class="meta">	@abc.abstractmethod</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">air_condition</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bus</span>(Vehicle,Charge):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">charge</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;公交车有收费功能！&#x27;</span>)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">stop</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;公交车有刹车功能！&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Taxi</span>(Vehicle,Charge,Air_condition):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">charge</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;出租车有收费功能！&#x27;</span>)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">stop</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;出租车有刹车功能！&#x27;</span>)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">air_condition</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;出租车有空调功能!&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cinema</span>(Charge,Air_condition):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">charge</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;电影院有收费功能！&#x27;</span>)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">air_condition</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;电影院有空调功能!&#x27;</span>)	</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">vehicle_stop</span>(<span class="params">vehicle</span>):</span><br><span class="line">	vehicle.stop()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">charge_cost</span>(<span class="params">charge</span>):</span><br><span class="line">	charge.charge()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">air</span>(<span class="params">air_condition</span>):</span><br><span class="line">	air_condition.air_condition()</span><br><span class="line">	</span><br><span class="line">bus = Bus()</span><br><span class="line">vehicle_stop(bus)</span><br><span class="line">charge_cost(bus)</span><br><span class="line">taxi = Taxi()</span><br><span class="line">vehicle_stop(taxi)</span><br><span class="line">charge_cost(taxi)</span><br><span class="line">air(taxi)</span><br><span class="line">cinema = Cinema()</span><br><span class="line">charge_cost(cinema)</span><br><span class="line">air(cinema)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">公交车有刹车功能！</span><br><span class="line">公交车有收费功能！</span><br><span class="line">出租车有刹车功能！</span><br><span class="line">出租车有收费功能！</span><br><span class="line">出租车有空调功能!</span><br><span class="line">电影院有收费功能！</span><br><span class="line">电影院有空调功能!</span><br></pre></td></tr></table></figure>
<h2 id="6，元类"><a href="#6，元类" class="headerlink" title="6，元类"></a>6，元类</h2><h3 id="1，认识元类"><a href="#1，认识元类" class="headerlink" title="1，认识元类"></a>1，认识元类</h3><p>在Python中，元类(metaclass)就是创建类，即类的模板。例如，当类A被实例化返回类B，那么类A就是元类。其用法形式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">B = A()</span><br><span class="line">object = B()</span><br></pre></td></tr></table></figure>
<p>在Python中 ，一切尽为对象，如int，string，function，class，而所有对象都是通过类来创建的。任何对象都可以通过<strong>class</strong>访问创建自身的类。同理，一个类可以通过<strong>class</strong>访问创建自身的元类。</p>
<p>代码所示如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B.__class__== A</span><br></pre></td></tr></table></figure>
<p>【示例】下面示例使用type元类创建一个类，然后使用<strong>class</strong>访问type。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class = type(None)</span><br><span class="line">print(Class.__class__)</span><br></pre></td></tr></table></figure>
<p>通过上面实例可以看到，type()构造函数可以创建类，这是因为type是一个类。</p>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">实际上type是Python用来创建所有类的元组，及元类的根类。</span><br></pre></td></tr></table></figure>
<h3 id="2，使用type-创建类"><a href="#2，使用type-创建类" class="headerlink" title="2，使用type()创建类"></a>2，使用type()创建类</h3><p>在Python中，类也是一个对象，当使用class关键字创建类时，Python会自动创建对应的类对象。使用type()函数可以直接创建类对象，语法格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">type</span>(name,bases,<span class="built_in">dict</span>)</span><br></pre></td></tr></table></figure>
<p>参数说明如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#name:类的名称</span><br><span class="line">#bases:基类组成的元组</span><br><span class="line">#dict:类的属性字典，包括类中定义的成员变量，以及映射的值。</span><br></pre></td></tr></table></figure>
<p>如果只有一个参数，则返回参数对象的类型；如果有3个参数，则返回新的类型对象。</p>
<p>【示例1】使用type()构造函数创建一个空类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Test = type(&quot;Test&quot;,(),())</span><br><span class="line">print(Test)</span><br></pre></td></tr></table></figure>
<p>输出为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>在上面的代码中，type()函数接收的第一个参数Test是该类的类名，同时使用Test作为存储该类对象的引用变量。变量名和类名可以不同，不过建议采用相同的名称，避免代码复杂化。</p>
<p>【示例2】使用type()构造函数还可以添加类的成员，以及继承的基类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> self.name</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">echo</span>(<span class="params">self</span>):</span><br><span class="line">	<span class="built_in">print</span>(self.name)</span><br><span class="line">	</span><br><span class="line">Test = <span class="built_in">type</span>(<span class="string">&quot;Test&quot;</span>,(Parent,),&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;test&quot;</span>,<span class="string">&quot;echo&quot;</span>:echo&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Test)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hasattr</span>(Test,<span class="string">&#x27;echo&#x27;</span>))</span><br><span class="line">test = Test()</span><br><span class="line">test.echo()</span><br><span class="line"><span class="built_in">print</span>(test.get())</span><br></pre></td></tr></table></figure>
<p>可以先创建一个类，然后根据需要再动态添加成员。例如，针对上面的Test类，可以继续添加如下普通方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">set</span>(<span class="params">self,val</span>):</span><br><span class="line">	self.name = val</span><br><span class="line">Test.<span class="built_in">set</span> = <span class="built_in">set</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hasattr</span>(Test,<span class="string">&#x27;get&#x27;</span>))</span><br><span class="line">test = Test()</span><br><span class="line">test.<span class="built_in">set</span>(<span class="string">&quot;new&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(test.name)</span><br></pre></td></tr></table></figure>
<h3 id="3，使用metaclass声明元类"><a href="#3，使用metaclass声明元类" class="headerlink" title="3，使用metaclass声明元类"></a>3，使用metaclass声明元类</h3><p>在定义类的时候，可以使用metaclass关键字声明当前类的元组。语法格式格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class 类名(metaclass = callable):</span><br><span class="line">	#执行代码</span><br></pre></td></tr></table></figure>
<p>如果指定了metaclass，Python将使用callable来生成当前类。其中callable表示一个可调用的对象，如函数、方法、lambda函数表达式，类对象，以及实现了<strong>call</strong>方法的实例化。</p>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">调用类对象[即类的实例化]实际上就是调用__new__方法，调用实例对象实际上就是调用__call__方法。</span><br></pre></td></tr></table></figure>
<p>“class 类名(metaclass=callable)”的运行逻辑如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类名 = callable(类名，基类元组，类成员字典)</span><br></pre></td></tr></table></figure>
<p>3个参数与type()构造函数的参数意义一一对应。在callable函数体内，可以根据需要修改3个参数，然后传递给type()，调用type()，并返回创建新的类。</p>
<p>【示例一】：演示使用metaclass关键字初始化元类的基本用法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Meda</span>(<span class="title class_ inherited__">type</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls,name,bases,attr</span>):</span><br><span class="line">		attr[<span class="string">&#x27;info&#x27;</span>] = <span class="string">&#x27;由Mada元类创建&#x27;</span></span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">super</span>().__new__(cls,name,bases,attr)</span><br><span class="line">		</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>(metaclass = Meda):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> self.info</span><br><span class="line">		</span><br><span class="line">test = Test()</span><br><span class="line"><span class="built_in">print</span>(test.info)</span><br><span class="line"><span class="built_in">print</span>(test.get())</span><br></pre></td></tr></table></figure>
<p>在上面的实例中，首先创建一个类Meda,实现元类的功能，并继承type根类。在这个类的<strong>new</strong>方法中传入4个参数。</p>
<p>当实例化type类时，也就是是调用该类的<strong>new</strong>方法生成新类，其中第一个参数cls为默认参数，表示当前类，后面3个参数对应type()函数的参数。因此，上面的写法与直接调用type()函数生成类的逻辑是完全一样的，只不过展现的形式不同。</p>
<p>在新建Test类的时候，使用metaclass = Meda指定该类的元类，虽然使用class关键字定义了本类，但是在实际执行的时候，这个类是以metaclass指定的元类来创建的。</p>
<p>【示例2】Python的原生list不支持add()方法，本例通过元类为新建的列表类型添加该方法，以方便快速添加元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ListMeta</span>(<span class="title class_ inherited__">type</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls,name,bases,attr</span>):</span><br><span class="line">	<span class="comment">#在类属性中添加add函数，通过匿名函数映射到append函数上</span></span><br><span class="line">	attrs[<span class="string">&#x27;add&#x27;</span>] = <span class="keyword">lambda</span> self,value:self.append(value)</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">super</span>().__new__(cls,name,bases,attrs)</span><br><span class="line">	</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyList</span>(<span class="built_in">list</span>,metaclass=ListMeta):</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line">	</span><br><span class="line">lt = MyList()</span><br><span class="line">lt.add(<span class="number">1</span>)</span><br><span class="line">lt.add(<span class="number">2</span>)</span><br><span class="line">lt.add(<span class="number">3</span>)</span><br><span class="line">		</span><br></pre></td></tr></table></figure>
<h3 id="4，自定义元组"><a href="#4，自定义元组" class="headerlink" title="4，自定义元组"></a>4，自定义元组</h3><p>如果一个类没有声明自己的元类，默认元类为type，当然用户也可以通过继承type来自定义元类。</p>
<p>元类可以用来设计复杂的逻辑操作，如自省、修改继承、以及改变类的默认属性等。但是metaclass本身比较简单，主要作用如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#影响类的初始化过程</span><br><span class="line">#对生成的类进行动态修改</span><br></pre></td></tr></table></figure>
<p>自定义元类的方法有两种。</p>
<p>方法一，使用类的实例化函数构造新类</p>
<p>【示例1】演示使用类的<strong>new</strong>方法创建新类的基本模式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Meda</span>(<span class="title class_ inherited__">type</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls,*arg</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;__new__被执行&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">super</span>().__new__(cls,*arg)</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,*arg</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;__init__被执行&quot;</span>)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;__call__被执行&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>(metaclass = Meda):</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行上面示例代码，会在控制台输出下面信息，说明当为一个类设置元类时，实际上就是调用元类，实例化元类并返回新类。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__new__被执行</span><br><span class="line">__init__被执行</span><br></pre></td></tr></table></figure>
<p>而实例化Test类时，在控制台输出下面信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__call__被执行</span><br></pre></td></tr></table></figure>
<p>方法二：使用函数等可调用对象返回一个类</p>
<p>【实例2】下面示例设计通过元类修改当前类的属性名为大写</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">upper_attr</span>(<span class="params">class_name,class_parents,class_attr</span>):</span><br><span class="line">	uppercase_attr = &#123;&#125;</span><br><span class="line">	<span class="keyword">for</span> name,val <span class="keyword">in</span> class_attr,items():</span><br><span class="line">		<span class="keyword">if</span> name.startswith(<span class="string">&#x27;__&#x27;</span>)</span><br><span class="line">			uppercase_attr[name] = val</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			uppercase_attr[name.upper()] = val</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">type</span>(class_name,class_parents,uppercase_attr)</span><br><span class="line">	</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>(metaclass = upper_attr):</span><br><span class="line">	a = <span class="string">&#x27;0&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hasattr</span>(Test,<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hasattr</span>(Test,<span class="string">&#x27;A&#x27;</span>))</span><br><span class="line">test = Test()</span><br><span class="line"><span class="built_in">print</span>(test.A)</span><br></pre></td></tr></table></figure>
<h3 id="5，案例：创建Employee类"><a href="#5，案例：创建Employee类" class="headerlink" title="5，案例：创建Employee类"></a>5，案例：创建Employee类</h3><p>本例通过元类的方式创建一个雇员类，类成员通过字典结构提前定义，最后使用type()函数把他们构造为一个完整的新类。示例代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,telphone,gender</span>):</span><br><span class="line">	self.name = name</span><br><span class="line">	self.telphone = telphone</span><br><span class="line">	self.gender = gender</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">say_hello</span>(<span class="params">self</span>):</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;Hello, I am &#123;&#125;, I come from &#123;&#125;, my phone is &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(self.name,country,self.telphone))</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">class_name = <span class="string">&#x27;Employee&#x27;</span></span><br><span class="line">class_bases = (<span class="built_in">object</span>,)</span><br><span class="line">country = <span class="string">&#x27;China&#x27;</span></span><br><span class="line">class_dic = &#123;</span><br><span class="line">	<span class="string">&#x27;country&#x27;</span>:country,</span><br><span class="line">	<span class="string">&#x27;__init__&#x27;</span>:__init__,</span><br><span class="line">	<span class="string">&#x27;say_hello&#x27;</span>:say_hello,</span><br><span class="line">&#125;</span><br><span class="line">Employee = <span class="built_in">type</span>(class_name,class_bases,class_dic)</span><br><span class="line">employee = <span class="built_in">type</span>(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;15811112222&#x27;</span>,<span class="string">&#x27;male&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(Employee)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(Employee,<span class="built_in">type</span>))</span><br><span class="line"><span class="built_in">print</span>(employee.say_hello())</span><br><span class="line"><span class="built_in">print</span>(employee,country)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>执行程序，输出结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#x27;__main__.Employee&#x27;&gt;</span><br><span class="line">True</span><br><span class="line">Hello, I am zhangsan, I come from China, my phone is 15811112222</span><br><span class="line">None</span><br><span class="line">China</span><br></pre></td></tr></table></figure>
<h2 id="7，案例实战"><a href="#7，案例实战" class="headerlink" title="7，案例实战"></a>7，案例实战</h2><h3 id="1，迭代器"><a href="#1，迭代器" class="headerlink" title="1，迭代器"></a>1，迭代器</h3><p>迭代，顾名思义，就是不停地代换。在程序设计中，表示同一个变量，使用不同的值来替代运算。</p>
<h4 id="1，可迭代对象"><a href="#1，可迭代对象" class="headerlink" title="1，可迭代对象"></a>1，可迭代对象</h4><p>可迭代对象表示一个数据集合对象，且可以通过<strong>iter</strong>()方法或者<strong>getitem</strong>()方法访问对象中的元素，他们是Python实现外部访问可迭代对象内部数据的通用接口。这两个方法的具体作用如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#__iter__():可以使用for循环遍历对象</span><br><span class="line">#__getitem__():可以通过“对象[index]”的方式访问元素。</span><br></pre></td></tr></table></figure>
<p>在Python中，迭代是通过for语句来完成的。凡是可迭代对象都可以直接使用for循环访问，for语句其实做了以下两件事：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#调用__iter__()方法获取一个迭代器</span><br><span class="line">#循环调用__next__()方法访问元素。</span><br></pre></td></tr></table></figure>
<p>可迭代对象包括两类：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#集合数据类型，如list(列表)，set(集合)，dict(字典)，tuple(元组)，str(字符串)等</span><br><span class="line">#迭代器和生成器。</span><br></pre></td></tr></table></figure>
<p>【提示】：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">使用collection模块的Iterbale类型可以验证一个对象是否为可迭代对象：</span><br><span class="line">from collection,abc import Iterable</span><br><span class="line">print(isinstance(&#x27;&#x27;,Iterable))</span><br></pre></td></tr></table></figure>
<h4 id="2，迭代器"><a href="#2，迭代器" class="headerlink" title="2，迭代器"></a>2，迭代器</h4><p>迭代器(iterator)是一个可以记住遍历位置的对象。迭代器对象从集合的第一个元素开始访问，直到所有的元素被访问完结束。迭代器只能往前访问，不会往回访问。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#使用iter()函数可以把一个数据集合随想转换为迭代器对象。</span><br><span class="line">#使用next()函数可以不断访问迭代器对象中的下一个元素。</span><br></pre></td></tr></table></figure>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通常集合类型的数据会把所有的元素都存储在内存中，而迭代器和生成器仅在读取每个元素时，才动态生成。因此，当创建一个包含大容量的数据对象时，使用迭代器会更加高效。</span><br></pre></td></tr></table></figure>
<p>【示例1】简单演示如何把列表转换为迭代器，然后读取每个元素的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list = [1,2,3,4]</span><br><span class="line">it = iter(list)</span><br><span class="line">print(next(it),end=&quot; &quot;)</span><br><span class="line">print(next(it),end=&quot; &quot;)</span><br><span class="line">print(next(it),end=&quot; &quot;)</span><br><span class="line">print(next(it),end=&quot; &quot;)</span><br></pre></td></tr></table></figure>
<p>输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1，2，3，4</span><br></pre></td></tr></table></figure>
<p>【示例2】迭代器对象可以使用for语句进行遍历。针对示例1，可以使用如下代码遍历元素的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list = [1,2,3,4]</span><br><span class="line">it = iter(list)</span><br><span class="line">for x in it:</span><br><span class="line">	print(x,end=&quot; &quot;)</span><br></pre></td></tr></table></figure>
<p>【提示】</p>
<p>凡是可作用于for循环的对象都是Iterable(可迭代)类型；凡是可作用于next()函数的对象都是Iterator(迭代器)类型。例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterator</span><br><span class="line"><span class="built_in">list</span> = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">it = <span class="built_in">iter</span>(<span class="built_in">list</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(<span class="built_in">list</span>,Iterable))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(it,Iterable))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(<span class="built_in">list</span>,Iterator))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(it,Iterator))</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">True	#说明list是可迭代对象</span><br><span class="line">True	#说明it是可迭代对象</span><br><span class="line">False	#说明list是不可迭代对象</span><br><span class="line">True	#说明it是可迭代对象</span><br></pre></td></tr></table></figure>
<h4 id="3，自定义迭代器"><a href="#3，自定义迭代器" class="headerlink" title="3，自定义迭代器"></a>3，自定义迭代器</h4><p>自定义迭代器类型，需要在类中实现两个魔术方法：<strong>init</strong>()和<strong>next</strong>()。</p>
<p><strong>iter</strong>()方法返回一个特殊的迭代器对象，这个迭代器对象实现了<strong>next</strong>()方法，通过StopIteration异常标识迭代的终止。</p>
<p><strong>next</strong>()方法会返回下一个迭代器。</p>
<p>【示例3】本示例将创造一个返回数字的迭代器，初始值为1，逐步递增1。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Add:</span><br><span class="line">	def __iter__(self):</span><br><span class="line">		self.a = 1</span><br><span class="line">		return self</span><br><span class="line">	def __next__(self):</span><br><span class="line">		x = self.a</span><br><span class="line">		self.a += 1</span><br><span class="line">		return x</span><br><span class="line">		</span><br><span class="line">add = Add()</span><br><span class="line">myiter = iter(add)</span><br><span class="line">print(next(myiter))</span><br><span class="line">print(next(myiter))</span><br><span class="line">print(next(myiter))</span><br><span class="line">print(next(myiter))</span><br><span class="line">print(next(myiter))</span><br></pre></td></tr></table></figure>
<p>在上面的实例中，如果不断调用next()函数，将会连续输出递增值。如果要限定输出的次数，可以使用StopIteration异常。</p>
<p>StopIteration异常用于标识迭代的完成，防止出现无限循环。在<strong>next</strong>()方法中可以设置在完成指定的循环次数后触发Stopiteration异常来结束迭代。</p>
<p>【示例4】设计在20次迭代后停止输出。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Add:</span><br><span class="line">	def __init__(self):</span><br><span class="line">		self.a = a</span><br><span class="line">		return self</span><br><span class="line">	def __next__(self):</span><br><span class="line">		if self.a &lt;= 20：</span><br><span class="line">			x = self.a</span><br><span class="line">			self.a += 1</span><br><span class="line">			return x</span><br><span class="line">		else:</span><br><span class="line">			raise StopIteration</span><br><span class="line">		</span><br><span class="line">add = Add()</span><br><span class="line">myiter = iter(add)</span><br><span class="line">for x in myiter:</span><br><span class="line">	print(x,end=&quot; &quot;)</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>【示例5】创建一个迭代器，它既可以做为迭代器的集合对象，也可以作为可迭代的迭代器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyIterator</span>():</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">		self.<span class="built_in">list</span> = []</span><br><span class="line">		self.position = <span class="number">0</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> self </span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">if</span> self.position &lt; <span class="built_in">len</span>(self.<span class="built_in">list</span>):</span><br><span class="line">			item = self.<span class="built_in">list</span>[self.position]</span><br><span class="line">			self.position += <span class="number">1</span></span><br><span class="line">			<span class="keyword">return</span> item</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">raise</span> StopIteration</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">self,name</span>):</span><br><span class="line">		self.<span class="built_in">list</span>.append(name)</span><br><span class="line">	</span><br><span class="line"><span class="comment">#a对象既是一个迭代器，也是一个可迭代对象</span></span><br><span class="line">a = MyIterator()</span><br><span class="line">a.add(<span class="string">&quot;张三&quot;</span>)</span><br><span class="line">a.add(<span class="string">&quot;李四&quot;</span>)</span><br><span class="line">a.add(<span class="string">&quot;王五&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(a))</span><br><span class="line"></span><br><span class="line">a = MyIterator()</span><br><span class="line">a.add(<span class="number">1</span>)</span><br><span class="line">a.add(<span class="number">2</span>)</span><br><span class="line">a.add(<span class="number">3</span>)</span><br><span class="line">iterator = <span class="built_in">iter</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(iterator))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(iterator))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(iterator))</span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">张三</span><br><span class="line">李四</span><br><span class="line">王五</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<h3 id="2，生成器"><a href="#2，生成器" class="headerlink" title="2，生成器"></a>2，生成器</h3><p>​    在Python中一边循环一边计算的机制称为生成器。对于集合类型来说，他的所有数据都存储在内存中，如果有海量的数据，将会非常占用内存，且操作效率也不是很高。</p>
<p>​    例如，如果仅仅需要访问前面几个元素，那么后面绝大多数元素占用的空间都是不必要的。如果每个元素的值可以按照某种算法生成，那么就可以在循环的过程中不断推算出后续的元素，这样就不必创建完整的数据集合，从而节省大量的空间。因此，生成器仅仅保存了一套生成数值的算法，并且没有让这个算法现在就开始执行，而是在需要时才开始计算并返回每一个值。</p>
<p>​    生成器的工作原理：生成器是一种特殊的迭代器，作为可迭代的对象，它能够迭代的关键是因为拥有一个next()方法，如果重复调用next()方法，就可以获取每个元素的值，直到捕获一个异常。</p>
<p>创建生成器的方法有以下两种</p>
<h1 id="通过推导式生成。"><a href="#通过推导式生成。" class="headerlink" title="通过推导式生成。"></a>通过推导式生成。</h1><p>【示例1】使用推导式生成一个生成器。同时与列表推导式进行比较，比较它们在语法形式上的异同。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">L = [x * x for x in range(10)]</span><br><span class="line">g = (x * x for x in range(10))</span><br><span class="line">print(L)</span><br><span class="line">print(g)</span><br></pre></td></tr></table></figure>
<p>从上面的代码可以看到，只要把一个列表推导式的[]改成()就可以创建一个生成器。</p>
<h1 id="使用yield关键字生成"><a href="#使用yield关键字生成" class="headerlink" title="使用yield关键字生成"></a>使用yield关键字生成</h1><p>如果一个函数中包括yield关键字，那么这个函数就不再是一个普通的函数，而是一个生成器函数。调用函数就可以创建一个生成器对象。</p>
<p>【提示】</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在函数体中，yield相当于return,都能够返回其后面表达式的值。但是，yield不是完全等价于return,return是直接结束函数的调用，而yield是挂起运行的函数，并记住返回的位置，当再次调用__next__函数时，将从yield所在位置的下一条语句开始执行。</span><br></pre></td></tr></table></figure>
<p>【示例2】使用yield关键字创建一个生成器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">n</span>):</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">		<span class="keyword">yield</span> i*i</span><br><span class="line">		</span><br><span class="line">g = test(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(g))</span><br><span class="line"><span class="built_in">print</span>(g.__next__())</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> g:</span><br><span class="line">	<span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">9</span><br><span class="line">16</span><br></pre></td></tr></table></figure>
<p>生成器对象还有一个send()方法，该方法能够向生成器内部投射一个值，作为yield表达式整体运行的结果，使用send()</p>
<p>方法可以强行修改上一次yield表达式的值。</p>
<p>【示例4】设计当迭代生成器过程中，使用send()方法中途改变迭代的次数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">down</span>(<span class="params">n</span>):</span><br><span class="line">	<span class="keyword">while</span> n &gt;= <span class="number">0</span>:</span><br><span class="line">		m = <span class="keyword">yield</span> n</span><br><span class="line">		<span class="keyword">if</span> m:</span><br><span class="line">			n = m</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			n -= <span class="number">1</span></span><br><span class="line">			</span><br><span class="line">d = down(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> d:</span><br><span class="line">	<span class="built_in">print</span>(i)</span><br><span class="line">	<span class="keyword">if</span> i == <span class="number">5</span>:</span><br><span class="line">		d.send(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p>如果不设置if i == 5：d.send(3)，则将连续打印递减正整数：5，4，3，2，1，0</p>
<p>【示例5】使用列表推导式可以输出斐波那契数列的前N个数字，主要用到元组的多重赋值：a,b = b,a+b，其实相当于t = a+b，a=b，b=t，所以不必定义临时变量t，就可以输出斐波那契数列的前n个数字。列表推导式是一次生成数列中所有求值，会占用大量内容。现在，使用生成器函数，仅存储计算方法，这样就会节省大量时间。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params"><span class="built_in">max</span></span>):</span><br><span class="line">	n,a,b = <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span></span><br><span class="line">	<span class="keyword">while</span> n &lt; <span class="built_in">max</span>:</span><br><span class="line">		<span class="keyword">yield</span> b</span><br><span class="line">		a,b = b,a+b</span><br><span class="line">		n = n+<span class="number">1</span></span><br><span class="line">	<span class="keyword">return</span> <span class="string">&#x27;done&#x27;</span></span><br><span class="line">g = fib(<span class="number">6</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">	<span class="keyword">try</span>:</span><br><span class="line">		x = <span class="built_in">next</span>(g)</span><br><span class="line">		<span class="built_in">print</span>(x)</span><br><span class="line">	<span class="keyword">except</span> StopIteration <span class="keyword">as</span> e:</span><br><span class="line">		<span class="built_in">print</span>(e.value)</span><br><span class="line">		<span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p>运算结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">Dones</span><br></pre></td></tr></table></figure>
<h3 id="3，静态字段和类方法"><a href="#3，静态字段和类方法" class="headerlink" title="3，静态字段和类方法"></a>3，静态字段和类方法</h3><p>本例编写一个Shoes类，练习使用静态字段保存公共信息，记录鞋子实例数，使用类方法显示类中鞋子实例的总数，并通过普通方法修改信息，以便核减鞋子数量，代码如下所示。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class Shoes:</span><br><span class="line">	numbers = 0</span><br><span class="line">	def __init__(self,name,brand):</span><br><span class="line">		self.name = name </span><br><span class="line">		self.brand = brand</span><br><span class="line">		Shoes.numbers += 1</span><br><span class="line">	def useless(self):</span><br><span class="line">		Shoes.numbers -= 1</span><br><span class="line">		if Shoes.numbers == 0:</span><br><span class="line">			print(&#x27;&#123;&#125; was the last one&#x27;.format(self.name))</span><br><span class="line">		else:</span><br><span class="line">			print(&#x27;you have (:d) shoes&#x27;.format(Shoes.numbers))</span><br><span class="line">	def print_Shoes(self):</span><br><span class="line">		print(&#x27;you got &#123;:s&#125; &#123;:s&#125;&#x27;.format(self.name,self.brand))</span><br><span class="line">		</span><br><span class="line">	@classmethod</span><br><span class="line">	def how_maney(cls):</span><br><span class="line">		print(&#x27;you have &#123;:d&#125; shoes&#x27;.format(clf.numbers))</span><br><span class="line">	</span><br><span class="line">shoes1 = Shoes(&#x27;三叶草&#x27;,&#x27;ADIDAS&#x27;)</span><br><span class="line">shoes1.print_Shoes()</span><br><span class="line">shose1.how_maney()</span><br><span class="line"></span><br><span class="line">shoes2 = Shoes(&#x27;AJ&#x27;,&#x27;NIKE&#x27;)</span><br><span class="line">shoes2.print_Shoes()</span><br><span class="line">shose2.how_maney()</span><br><span class="line"></span><br><span class="line">shoes3 = Shoes(&#x27;安踏&#x27;,&#x27;NATA&#x27;)</span><br><span class="line">shoes3.print_Shoes()</span><br><span class="line">shose3.how_maney()</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">shoes1.useless()</span><br><span class="line">shoes2.useless()</span><br><span class="line">Shoes.print_Shoes</span><br></pre></td></tr></table></figure>
<h3 id="4，向量加减运算"><a href="#4，向量加减运算" class="headerlink" title="4，向量加减运算"></a>4，向量加减运算</h3><p>​        提供了一组与运算符相关的魔法方法，其中包括加，减，乘和除等基本四则运算，方便用户根据运算对象的特殊需求，进行个性化定制，本节将重点介绍四则运算符的魔法方法，简单说明如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># __add__(self,other):相加(+)</span><br><span class="line"># __sub__(self,other):相减(-)</span><br><span class="line"># __mul__(self,other):相乘(*)</span><br><span class="line"># __truediv(self,other):真相除(/)</span><br><span class="line"># __floordiv(self,other):整数除法(//)</span><br><span class="line"># __mod__(self,other):取余运算(%)</span><br></pre></td></tr></table></figure>
<p>本案例编写一个向量Vector类，重写加法和减法，实现向量之间的加减运算。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x,y</span>):</span><br><span class="line">		self.x = x</span><br><span class="line">		self.y = y</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&#x27;Vector(%d,%d)&#x27;</span>%(self.x,self.y)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self,other</span>):</span><br><span class="line">		<span class="keyword">return</span> Vector(self.x + other.x,self.y + other.y)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__sub__</span>(<span class="params">self,other</span>):</span><br><span class="line">		<span class="keyword">return</span> Vector(self.x - other.x,self.y - other.y)</span><br><span class="line">		</span><br><span class="line">vector1 = Vector(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">vector2 = Vector(<span class="number">4</span>,-<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(vector1,<span class="string">&#x27;+&#x27;</span>,vector2,<span class="string">&#x27;=&#x27;</span>,vector1 + vector2)</span><br><span class="line"><span class="built_in">print</span>(vector1,<span class="string">&#x27;-&#x27;</span>,vector2,<span class="string">&#x27;=&#x27;</span>,vector1 - vector2)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vector(3,5) + Vector(4,-6) = Vector(7,-1) </span><br><span class="line">Vector(3,5) - Vector(4,-6) = Vector(-1,11)</span><br></pre></td></tr></table></figure>
<h3 id="5，点与矩形"><a href="#5，点与矩形" class="headerlink" title="5，点与矩形"></a>5，点与矩形</h3><p>本案例编写一个矩形类Rect，包含宽度width和高度height两个属性，矩形的面积area()和矩形的周长perimeter()两个方法，再编写一个具有位置参数的矩型类PlainRect，继承Rect类，包含两个坐标属性和一个判点是否在矩形内的方法，其中确定位置用左上角的矩形坐标表示，示例代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rect</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,width,height</span>):</span><br><span class="line">		self.width = width </span><br><span class="line">		self.height = height</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">area</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> self.width * self.height</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">perimeter</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="number">2</span> * (self.width + self.height)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PlainRect</span>(<span class="title class_ inherited__">Rect</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,width,height,startX,startY</span>):</span><br><span class="line">		<span class="built_in">super</span>().__init__(width,height)</span><br><span class="line">		self.startX = startX</span><br><span class="line">		self.startY = startY</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">isInside</span>(<span class="params">self,x,y</span>):</span><br><span class="line">		<span class="keyword">if</span> (x&gt;=self.startX <span class="keyword">and</span> x&lt;=(self.startX + self.width)) <span class="keyword">and</span> (y&gt;=self.startY <span class="keyword">and</span> y&lt;=(self.startY + self.height)):</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">plainRect = PlainRect(<span class="number">10</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;矩形的面积:&#x27;</span>,plainRect.area())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;矩形的周长:&#x27;</span>,plainRect.perimeter())</span><br><span class="line"><span class="keyword">if</span> plainRect.isInside(<span class="number">15</span>,<span class="number">11</span>):</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;点在矩形内&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;点不在矩形内&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">矩形的面积: 50</span><br><span class="line">矩形的周长: 30</span><br><span class="line">点在矩形内 </span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://qscftyjm.github.io">John Doe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://qscftyjm.github.io/2023/11/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/">https://qscftyjm.github.io/2023/11/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://qscftyjm.github.io" target="_blank">Hexo</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python%E5%AD%A6%E4%B9%A0/">python学习</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/11/30/%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85/" title="模块和包"><img class="cover" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">模块和包</div></div></a></div><div class="next-post pull-right"><a href="/2023/11/30/%E5%87%BD%E6%95%B0/" title="函数"><img class="cover" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">函数</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/11/30/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95/" title="异常处理和程序调试"><img class="cover" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-30</div><div class="title">异常处理和程序调试</div></div></a></div><div><a href="/2023/11/30/%E5%87%BD%E6%95%B0/" title="函数"><img class="cover" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-30</div><div class="title">函数</div></div></a></div><div><a href="/2023/11/30/%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85/" title="模块和包"><img class="cover" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-30</div><div class="title">模块和包</div></div></a></div><div><a href="/2023/11/30/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="正则表达式"><img class="cover" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-30</div><div class="title">正则表达式</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">John Doe</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/qscftyjm"><i class="fab fa-github"></i><span>🛴前往小家...</span></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/qscftyjm" target="_blank" title="github"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a><a class="social-icon faa-parent animated-hover" href="mailto:xxxxxx@gmail.com" target="_blank" title="envelope"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youjian"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://im.qq.com/download" target="_blank" title="QQ"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-QQ"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/" target="_blank" title="B站"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-bilibili"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://youtube.com/" target="_blank" title="Youtube"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youtube"></use></svg></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><center>主域名：<br><a target="_blank" rel="noopener" href="https://www.fomal.cc"><b><font color="#5ea6e5">fomal.cc</font></b></a>&nbsp;|&nbsp;<a target="_blank" rel="noopener" href="https://www.fomal.cn"><b><font color="#5ea6e5">fomal.cn</font></b></a><br>备用域名：<br><a target="_blank" rel="noopener" href="https://blog.fomal.cc"><b><font color="#5ea6e5">blog.fomal.cc</font></b></a><br><a target="_blank" rel="noopener" href="https://aa.fomal.cc"><b><font color="#5ea6e5">aa.fomal.cc</font></b></a><br><a target="_blank" rel="noopener" href="https://bb.fomal.cc"><b><font color="#5ea6e5">bb.fomal.cc</font></b></a><br><a href="mailto:admin@fomal.cn">📬：<b><font color="#a591e0">admin@fomal.cn</font></b></a></center></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%EF%BC%8C%E8%AE%A4%E8%AF%86%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-number">1.1.</span> <span class="toc-text">1，认识面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%89%B9%E5%BE%81%E5%B1%9E%E6%80%A7"><span class="toc-number">1.1.1.</span> <span class="toc-text">类的特征属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text">2，使用类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%8C%E5%AE%9A%E4%B9%89%E7%B1%BB"><span class="toc-number">1.2.1.</span> <span class="toc-text">1，定义类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%8C%E5%AE%9E%E4%BE%8B%E5%8C%96%E7%B1%BB"><span class="toc-number">1.2.2.</span> <span class="toc-text">2，实例化类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E7%B1%BB"><span class="toc-number">1.2.3.</span> <span class="toc-text">3，初始化类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%8C%E5%AE%9A%E4%B9%89%E5%AD%A6%E7%94%9F%E7%B1%BB"><span class="toc-number">1.2.4.</span> <span class="toc-text">4，定义学生类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%8C%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%AE%9A%E4%B9%89%E5%91%98%E5%B7%A5%E7%B1%BB"><span class="toc-number">1.2.5.</span> <span class="toc-text">5，案例：定义员工类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%EF%BC%8C%E7%B1%BB%E6%88%90%E5%91%98"><span class="toc-number">1.3.</span> <span class="toc-text">3，类成员</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%8C%E5%AD%97%E6%AE%B5"><span class="toc-number">1.3.1.</span> <span class="toc-text">1，字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%8C%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.2.</span> <span class="toc-text">2，方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">普通方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%8C%E5%B1%9E%E6%80%A7"><span class="toc-number">2.0.1.</span> <span class="toc-text">3，属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%8C%E6%9E%84%E9%80%A0%E5%B1%9E%E6%80%A7"><span class="toc-number">2.0.2.</span> <span class="toc-text">4，构造属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%8C%E6%88%90%E5%91%98%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6"><span class="toc-number">2.0.3.</span> <span class="toc-text">5，成员访问限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%EF%BC%8C%E6%A1%88%E4%BE%8B%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97"><span class="toc-number">2.0.4.</span> <span class="toc-text">6，案例四则运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%EF%BC%8C%E5%9C%86%E7%B1%BB"><span class="toc-number">2.0.5.</span> <span class="toc-text">7，圆类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%EF%BC%8C%E7%B1%BB%E7%9A%84%E7%89%B9%E6%AE%8A%E6%88%90%E5%91%98"><span class="toc-number">2.1.</span> <span class="toc-text">4，类的特殊成员</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%8Cdoc"><span class="toc-number">2.1.1.</span> <span class="toc-text">1，doc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%8Cmodule%E5%92%8Cclass"><span class="toc-number">2.1.2.</span> <span class="toc-text">2，module和class</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%8Cnew"><span class="toc-number">2.1.3.</span> <span class="toc-text">3，new</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%8Cinit"><span class="toc-number">2.1.4.</span> <span class="toc-text">4，init</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%8Ccall"><span class="toc-number">2.1.5.</span> <span class="toc-text">5，call</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%EF%BC%8Cdict"><span class="toc-number">2.1.6.</span> <span class="toc-text">6，dict</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%EF%BC%8Cstr"><span class="toc-number">2.1.7.</span> <span class="toc-text">7，str</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%EF%BC%8Cgetitem%E3%80%81setitem%E5%92%8Cdelitem"><span class="toc-number">2.1.8.</span> <span class="toc-text">8，getitem、setitem和delitem</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%EF%BC%8Citer"><span class="toc-number">2.1.9.</span> <span class="toc-text">9，iter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%EF%BC%8Cdel"><span class="toc-number">2.1.10.</span> <span class="toc-text">10，del</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11%EF%BC%8Cgetattr%E3%80%81setattr%E5%92%8Cdelattr"><span class="toc-number">2.1.11.</span> <span class="toc-text">11，getattr、setattr和delattr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12%EF%BC%8C%E6%A1%88%E4%BE%8B%EF%BC%9A%E9%87%8D%E5%86%99%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.1.12.</span> <span class="toc-text">12，案例：重写比较运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%EF%BC%8C%E7%BB%A7%E6%89%BF"><span class="toc-number">2.2.</span> <span class="toc-text">5，继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%8C%E5%AE%9A%E4%B9%89%E7%BB%A7%E6%89%BF"><span class="toc-number">2.2.1.</span> <span class="toc-text">1，定义继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%8Cbase%E5%92%8Cbases"><span class="toc-number">2.2.2.</span> <span class="toc-text">2，base和bases</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%8C%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">2.2.3.</span> <span class="toc-text">3，接口和抽象类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%8C%E7%B1%BB%E7%9A%84%E7%BB%84%E5%90%88"><span class="toc-number">2.2.4.</span> <span class="toc-text">4，类的组合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%8C%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99%E4%B8%8E%E6%89%A9%E5%B1%95"><span class="toc-number">2.2.5.</span> <span class="toc-text">5，方法重写与扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%EF%BC%8C%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%87%AA%E8%A1%8C%E8%BD%A6%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">2.2.6.</span> <span class="toc-text">6，案例：自行车类的继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%EF%BC%8C%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%BB%A7%E6%89%BF%E5%92%8C%E6%8E%A5%E5%8F%A3%E6%95%B4%E5%90%88"><span class="toc-number">2.2.7.</span> <span class="toc-text">7，案例：抽象类继承和接口整合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%EF%BC%8C%E5%85%83%E7%B1%BB"><span class="toc-number">2.3.</span> <span class="toc-text">6，元类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%85%83%E7%B1%BB"><span class="toc-number">2.3.1.</span> <span class="toc-text">1，认识元类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%8C%E4%BD%BF%E7%94%A8type-%E5%88%9B%E5%BB%BA%E7%B1%BB"><span class="toc-number">2.3.2.</span> <span class="toc-text">2，使用type()创建类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%8C%E4%BD%BF%E7%94%A8metaclass%E5%A3%B0%E6%98%8E%E5%85%83%E7%B1%BB"><span class="toc-number">2.3.3.</span> <span class="toc-text">3，使用metaclass声明元类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%BB%84"><span class="toc-number">2.3.4.</span> <span class="toc-text">4，自定义元组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%8C%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%88%9B%E5%BB%BAEmployee%E7%B1%BB"><span class="toc-number">2.3.5.</span> <span class="toc-text">5，案例：创建Employee类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%EF%BC%8C%E6%A1%88%E4%BE%8B%E5%AE%9E%E6%88%98"><span class="toc-number">2.4.</span> <span class="toc-text">7，案例实战</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%8C%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">2.4.1.</span> <span class="toc-text">1，迭代器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8C%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.4.1.1.</span> <span class="toc-text">1，可迭代对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8C%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">2.4.1.2.</span> <span class="toc-text">2，迭代器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">2.4.1.3.</span> <span class="toc-text">3，自定义迭代器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%8C%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number">2.4.2.</span> <span class="toc-text">2，生成器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%8E%A8%E5%AF%BC%E5%BC%8F%E7%94%9F%E6%88%90%E3%80%82"><span class="toc-number">3.</span> <span class="toc-text">通过推导式生成。</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8yield%E5%85%B3%E9%94%AE%E5%AD%97%E7%94%9F%E6%88%90"><span class="toc-number">4.</span> <span class="toc-text">使用yield关键字生成</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%8C%E9%9D%99%E6%80%81%E5%AD%97%E6%AE%B5%E5%92%8C%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-number">4.0.1.</span> <span class="toc-text">3，静态字段和类方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%8C%E5%90%91%E9%87%8F%E5%8A%A0%E5%87%8F%E8%BF%90%E7%AE%97"><span class="toc-number">4.0.2.</span> <span class="toc-text">4，向量加减运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%8C%E7%82%B9%E4%B8%8E%E7%9F%A9%E5%BD%A2"><span class="toc-number">4.0.3.</span> <span class="toc-text">5，点与矩形</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/11/30/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="正则表达式"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="正则表达式"/></a><div class="content"><a class="title" href="/2023/11/30/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="正则表达式">正则表达式</a><time datetime="2023-11-30T03:25:05.000Z" title="发表于 2023-11-30 11:25:05">2023-11-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/30/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95/" title="异常处理和程序调试"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="异常处理和程序调试"/></a><div class="content"><a class="title" href="/2023/11/30/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95/" title="异常处理和程序调试">异常处理和程序调试</a><time datetime="2023-11-30T03:24:05.000Z" title="发表于 2023-11-30 11:24:05">2023-11-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/30/%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85/" title="模块和包"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="模块和包"/></a><div class="content"><a class="title" href="/2023/11/30/%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85/" title="模块和包">模块和包</a><time datetime="2023-11-30T03:23:05.000Z" title="发表于 2023-11-30 11:23:05">2023-11-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By John Doe</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"><span id="percent">0</span><span>%</span></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async src="//at.alicdn.com/t/c/font_4353759_wpytq9xoldp.js"></script><div id="aplayer-uxAIfEUs" class="aplayer aplayer-tag-marker meting-tag-marker no-destroy" data-id="8492133976" data-server="netease" data-type="playlist" data-mode="circulation" data-fixed="true" data-autoplay="true" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#3F51B5"></div><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer data-pjax src="/js/readPercent.js"></script><script defer data-pjax src="/js/emoji.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><a class="magnet_link_more"  href="https://qscftyjm.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #b30070}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于4EVERLAND" title=""><img src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/11/30/面向对象编程/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/11/30/面向对象编程/&quot;);" href="javascript:void(0);" alt="">面向对象编程</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/11/30/面向对象编程/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/11/30/正则表达式/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/11/30/正则表达式/&quot;);" href="javascript:void(0);" alt="">正则表达式</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/11/30/正则表达式/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/11/30/模块和包/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/11/30/模块和包/&quot;);" href="javascript:void(0);" alt="">模块和包</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/11/30/模块和包/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/11/30/我的第二篇文章/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/11/30/我的第二篇文章/&quot;);" href="javascript:void(0);" alt="">文章二：博客搭建功能的实现</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/11/30/我的第二篇文章/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/11/30/函数/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/11/30/函数/&quot;);" href="javascript:void(0);" alt="">函数</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/11/30/函数/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/11/30/我的第三篇文章/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/11/30/我的第三篇文章/&quot;);" href="javascript:void(0);" alt="">文章三 乱七八糟的不知什么时候可以用上的东西</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/11/30/我的第三篇文章/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/11/30/我的第一篇文章/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/11/30/我的第一篇文章/&quot;);" href="javascript:void(0);" alt="">文章一 展示最基本的makedown文件格式及其参数</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/11/30/我的第一篇文章/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/11/30/异常处理和程序调试/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/11/30/异常处理和程序调试/&quot;);" href="javascript:void(0);" alt="">异常处理和程序调试</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/11/30/异常处理和程序调试/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '113.34532,23.15624';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '1s');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '2');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/about/'|| '/about/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://gitcalendar.fomal.cc/api?qscftyjm",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'qscftyjm')
    }
  </script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hibiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>